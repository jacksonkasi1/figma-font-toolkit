(()=>{var re=Object.defineProperty;var rt=Object.getOwnPropertyDescriptor;var nt=Object.getOwnPropertyNames;var at=Object.prototype.hasOwnProperty;var T=(e,t)=>()=>(e&&(t=e(e=0)),t);var it=(e,t)=>{for(var o in t)re(e,o,{get:t[o],enumerable:!0})},st=(e,t,o,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of nt(t))!at.call(e,s)&&s!==o&&re(e,s,{get:()=>t[s],enumerable:!(r=rt(t,s))||r.enumerable});return e};var lt=e=>st(re({},"__esModule",{value:!0}),e);function M(e,t){for(var o in t)e[o]=t[o];return e}function le(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function n(e,t,o){var r,s,a,c={};for(a in t)a=="key"?r=t[a]:a=="ref"?s=t[a]:c[a]=t[a];if(arguments.length>2&&(c.children=arguments.length>3?J.call(arguments,2):o),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)c[a]===void 0&&(c[a]=e.defaultProps[a]);return Y(e,c,r,s,null)}function Y(e,t,o,r,s){var a={type:e,props:t,key:o,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s==null?++xe:s,__i:-1,__u:0};return s==null&&x.vnode!=null&&x.vnode(a),a}function L(e){return e.children}function X(e,t){this.props=e,this.context=t}function I(e,t){if(t==null)return e.__?I(e.__,e.__i+1):null;for(var o;t<e.__k.length;t++)if((o=e.__k[t])!=null&&o.__e!=null)return o.__e;return typeof e.type=="function"?I(e):null}function Ce(e){var t,o;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((o=e.__k[t])!=null&&o.__e!=null){e.__e=e.__c.base=o.__e;break}return Ce(e)}}function ve(e){(!e.__d&&(e.__d=!0)&&z.push(e)&&!Q.__r++||ge!=x.debounceRendering)&&((ge=x.debounceRendering)||ye)(Q)}function Q(){for(var e,t,o,r,s,a,c,p=1;z.length;)z.length>p&&z.sort(we),e=z.shift(),p=z.length,e.__d&&(o=void 0,r=void 0,s=(r=(t=e).__v).__e,a=[],c=[],t.__P&&((o=M({},r)).__v=r.__v+1,x.vnode&&x.vnode(o),ce(t.__P,o,r,t.__n,t.__P.namespaceURI,32&r.__u?[s]:null,a,s==null?I(r):s,!!(32&r.__u),c),o.__v=r.__v,o.__.__k[o.__i]=o,He(a,o,c),r.__e=r.__=null,o.__e!=s&&Ce(o)));Q.__r=0}function Fe(e,t,o,r,s,a,c,p,f,l,u){var i,m,_,d,y,b,g,h=r&&r.__k||Se,E=t.length;for(f=dt(o,t,h,f,E),i=0;i<E;i++)(_=o.__k[i])!=null&&(m=_.__i==-1?D:h[_.__i]||D,_.__i=i,b=ce(e,_,m,s,a,c,p,f,l,u),d=_.__e,_.ref&&m.ref!=_.ref&&(m.ref&&pe(m.ref,null,_),u.push(_.ref,_.__c||d,_)),y==null&&d!=null&&(y=d),(g=!!(4&_.__u))||m.__k===_.__k?f=Ee(_,f,e,g):typeof _.type=="function"&&b!==void 0?f=b:d&&(f=d.nextSibling),_.__u&=-7);return o.__e=y,f}function dt(e,t,o,r,s){var a,c,p,f,l,u=o.length,i=u,m=0;for(e.__k=new Array(s),a=0;a<s;a++)(c=t[a])!=null&&typeof c!="boolean"&&typeof c!="function"?(f=a+m,(c=e.__k[a]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?Y(null,c,null,null,null):K(c)?Y(L,{children:c},null,null,null):c.constructor==null&&c.__b>0?Y(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=e,c.__b=e.__b+1,p=null,(l=c.__i=ut(c,o,f,i))!=-1&&(i--,(p=o[l])&&(p.__u|=2)),p==null||p.__v==null?(l==-1&&(s>u?m--:s<u&&m++),typeof c.type!="function"&&(c.__u|=4)):l!=f&&(l==f-1?m--:l==f+1?m++:(l>f?m--:m++,c.__u|=4))):e.__k[a]=null;if(i)for(a=0;a<u;a++)(p=o[a])!=null&&!(2&p.__u)&&(p.__e==r&&(r=I(p)),Ne(p,p));return r}function Ee(e,t,o,r){var s,a;if(typeof e.type=="function"){for(s=e.__k,a=0;s&&a<s.length;a++)s[a]&&(s[a].__=e,t=Ee(s[a],t,o,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=I(e)),o.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function ut(e,t,o,r){var s,a,c,p=e.key,f=e.type,l=t[o],u=l!=null&&(2&l.__u)==0;if(l===null&&e.key==null||u&&p==l.key&&f==l.type)return o;if(r>(u?1:0)){for(s=o-1,a=o+1;s>=0||a<t.length;)if((l=t[c=s>=0?s--:a++])!=null&&!(2&l.__u)&&p==l.key&&f==l.type)return c}return-1}function be(e,t,o){t[0]=="-"?e.setProperty(t,o==null?"":o):e[t]=o==null?"":typeof o!="number"||_t.test(t)?o:o+"px"}function q(e,t,o,r,s){var a,c;e:if(t=="style")if(typeof o=="string")e.style.cssText=o;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)o&&t in o||be(e.style,t,"");if(o)for(t in o)r&&o[t]==r[t]||be(e.style,t,o[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(ke,"$1")),c=t.toLowerCase(),t=c in e||t=="onFocusOut"||t=="onFocusIn"?c.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=o,o?r?o.u=r.u:(o.u=se,e.addEventListener(t,a?ae:ne,a)):e.removeEventListener(t,a?ae:ne,a);else{if(s=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=o==null?"":o;break e}catch(p){}typeof o=="function"||(o==null||o===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&o==1?"":o))}}function he(e){return function(t){if(this.l){var o=this.l[t.type+e];if(t.t==null)t.t=se++;else if(t.t<o.u)return;return o(x.event?x.event(t):t)}}}function ce(e,t,o,r,s,a,c,p,f,l){var u,i,m,_,d,y,b,g,h,E,H,P,v,F,$,R,oe,A=t.type;if(t.constructor!=null)return null;128&o.__u&&(f=!!(32&o.__u),a=[p=t.__e=o.__e]),(u=x.__b)&&u(t);e:if(typeof A=="function")try{if(g=t.props,h="prototype"in A&&A.prototype.render,E=(u=A.contextType)&&r[u.__c],H=u?E?E.props.value:u.__:r,o.__c?b=(i=t.__c=o.__c).__=i.__E:(h?t.__c=i=new A(g,H):(t.__c=i=new X(g,H),i.constructor=A,i.render=mt),E&&E.sub(i),i.props=g,i.state||(i.state={}),i.context=H,i.__n=r,m=i.__d=!0,i.__h=[],i._sb=[]),h&&i.__s==null&&(i.__s=i.state),h&&A.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=M({},i.__s)),M(i.__s,A.getDerivedStateFromProps(g,i.__s))),_=i.props,d=i.state,i.__v=t,m)h&&A.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),h&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(h&&A.getDerivedStateFromProps==null&&g!==_&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(g,H),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(g,i.__s,H)===!1||t.__v==o.__v){for(t.__v!=o.__v&&(i.props=g,i.state=i.__s,i.__d=!1),t.__e=o.__e,t.__k=o.__k,t.__k.some(function(U){U&&(U.__=t)}),P=0;P<i._sb.length;P++)i.__h.push(i._sb[P]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(g,i.__s,H),h&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(_,d,y)})}if(i.context=H,i.props=g,i.__P=e,i.__e=!1,v=x.__r,F=0,h){for(i.state=i.__s,i.__d=!1,v&&v(t),u=i.render(i.props,i.state,i.context),$=0;$<i._sb.length;$++)i.__h.push(i._sb[$]);i._sb=[]}else do i.__d=!1,v&&v(t),u=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++F<25);i.state=i.__s,i.getChildContext!=null&&(r=M(M({},r),i.getChildContext())),h&&!m&&i.getSnapshotBeforeUpdate!=null&&(y=i.getSnapshotBeforeUpdate(_,d)),R=u,u!=null&&u.type===L&&u.key==null&&(R=Ae(u.props.children)),p=Fe(e,K(R)?R:[R],t,o,r,s,a,c,p,f,l),i.base=t.__e,t.__u&=-161,i.__h.length&&c.push(i),b&&(i.__E=i.__=null)}catch(U){if(t.__v=null,f||a!=null)if(U.then){for(t.__u|=f?160:128;p&&p.nodeType==8&&p.nextSibling;)p=p.nextSibling;a[a.indexOf(p)]=null,t.__e=p}else{for(oe=a.length;oe--;)le(a[oe]);ie(t)}else t.__e=o.__e,t.__k=o.__k,U.then||ie(t);x.__e(U,t,o)}else a==null&&t.__v==o.__v?(t.__k=o.__k,t.__e=o.__e):p=t.__e=ft(o.__e,t,o,r,s,a,c,f,l);return(u=x.diffed)&&u(t),128&t.__u?void 0:p}function ie(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(ie)}function He(e,t,o){for(var r=0;r<o.length;r++)pe(o[r],o[++r],o[++r]);x.__c&&x.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(a){a.call(s)})}catch(a){x.__e(a,s.__v)}})}function Ae(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:K(e)?e.map(Ae):M({},e)}function ft(e,t,o,r,s,a,c,p,f){var l,u,i,m,_,d,y,b=o.props,g=t.props,h=t.type;if(h=="svg"?s="http://www.w3.org/2000/svg":h=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),a!=null){for(l=0;l<a.length;l++)if((_=a[l])&&"setAttribute"in _==!!h&&(h?_.localName==h:_.nodeType==3)){e=_,a[l]=null;break}}if(e==null){if(h==null)return document.createTextNode(g);e=document.createElementNS(s,h,g.is&&g),p&&(x.__m&&x.__m(t,a),p=!1),a=null}if(h==null)b===g||p&&e.data==g||(e.data=g);else{if(a=a&&J.call(e.childNodes),b=o.props||D,!p&&a!=null)for(b={},l=0;l<e.attributes.length;l++)b[(_=e.attributes[l]).name]=_.value;for(l in b)if(_=b[l],l!="children"){if(l=="dangerouslySetInnerHTML")i=_;else if(!(l in g)){if(l=="value"&&"defaultValue"in g||l=="checked"&&"defaultChecked"in g)continue;q(e,l,null,_,s)}}for(l in g)_=g[l],l=="children"?m=_:l=="dangerouslySetInnerHTML"?u=_:l=="value"?d=_:l=="checked"?y=_:p&&typeof _!="function"||b[l]===_||q(e,l,_,b[l],s);if(u)p||i&&(u.__html==i.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(i&&(e.innerHTML=""),Fe(t.type=="template"?e.content:e,K(m)?m:[m],t,o,r,h=="foreignObject"?"http://www.w3.org/1999/xhtml":s,a,c,a?a[0]:o.__k&&I(o,0),p,f),a!=null)for(l=a.length;l--;)le(a[l]);p||(l="value",h=="progress"&&d==null?e.removeAttribute("value"):d!=null&&(d!==e[l]||h=="progress"&&!d||h=="option"&&d!=b[l])&&q(e,l,d,b[l],s),l="checked",y!=null&&y!=e[l]&&q(e,l,y,b[l],s))}return e}function pe(e,t,o){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(s){x.__e(s,o)}}function Ne(e,t,o){var r,s;if(x.unmount&&x.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||pe(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(a){x.__e(a,t)}r.base=r.__P=null}if(r=e.__k)for(s=0;s<r.length;s++)r[s]&&Ne(r[s],t,o||typeof e.type!="function");o||le(e.__e),e.__c=e.__=e.__e=void 0}function mt(e,t,o){return this.constructor(e,o)}function _e(e,t,o){var r,s,a,c;t==document&&(t=document.documentElement),x.__&&x.__(e,t),s=(r=typeof o=="function")?null:o&&o.__k||t.__k,a=[],c=[],ce(t,e=(!r&&o||t).__k=n(L,null,[e]),s||D,D,t.namespaceURI,!r&&o?[o]:s?null:t.firstChild?J.call(t.childNodes):null,a,!r&&o?o:s?s.__e:t.firstChild,r,c),He(a,e,c)}var J,x,xe,ct,z,ge,ye,we,ke,se,ne,ae,pt,D,Se,_t,K,B=T(()=>{D={},Se=[],_t=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,K=Array.isArray;J=Se.slice,x={__e:function(e,t,o,r){for(var s,a,c;t=t.__;)if((s=t.__c)&&!s.__)try{if((a=s.constructor)&&a.getDerivedStateFromError!=null&&(s.setState(a.getDerivedStateFromError(e)),c=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,r||{}),c=s.__d),c)return s.__E=s}catch(p){e=p}throw e}},xe=0,ct=function(e){return e!=null&&e.constructor==null},X.prototype.setState=function(e,t){var o;o=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=M({},this.state),typeof e=="function"&&(e=e(M({},o),this.props)),e&&M(o,e),e!=null&&this.__v&&(t&&this._sb.push(t),ve(this))},X.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),ve(this))},X.prototype.render=L,z=[],ye=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,we=function(e,t){return e.__v.__b-t.__v.__b},Q.__r=0,ke=/(PointerCapture)$|Capture$/i,se=0,ne=he(!1),ae=he(!0),pt=0});function fe(e,t){k.__h&&k.__h(w,e,ee||t),ee=0;var o=w.__H||(w.__H={__:[],__h:[]});return e>=o.__.length&&o.__.push({}),o.__[e]}function S(e){return ee=1,gt(Oe,e)}function gt(e,t,o){var r=fe(G++,2);if(r.t=e,!r.__c&&(r.__=[o?o(t):Oe(void 0,t),function(p){var f=r.__N?r.__N[0]:r.__[0],l=r.t(f,p);f!==l&&(r.__N=[l,r.__[1]],r.__c.setState({}))}],r.__c=w,!w.__f)){var s=function(p,f,l){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(m){return!!m.__c});if(u.every(function(m){return!m.__N}))return!a||a.call(this,p,f,l);var i=r.__c.props!==p;return u.forEach(function(m){if(m.__N){var _=m.__[0];m.__=m.__N,m.__N=void 0,_!==m.__[0]&&(i=!0)}}),a&&a.call(this,p,f,l)||i};w.__f=!0;var a=w.shouldComponentUpdate,c=w.componentWillUpdate;w.componentWillUpdate=function(p,f,l){if(this.__e){var u=a;a=void 0,s(p,f,l),a=u}c&&c.call(this,p,f,l)},w.shouldComponentUpdate=s}return r.__N||r.__}function De(e,t){var o=fe(G++,3);!k.__s&&Ge(o.__H,t)&&(o.__=e,o.u=t,w.__H.__h.push(o))}function O(e,t){var o=fe(G++,7);return Ge(o.__H,t)&&(o.__=e(),o.__H=t,o.__h=e),o.__}function C(e,t){return ee=8,O(function(){return e},t)}function vt(){for(var e;e=Re.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Z),e.__H.__h.forEach(ue),e.__H.__h=[]}catch(t){e.__H.__h=[],k.__e(t,e.__v)}}function bt(e){var t,o=function(){clearTimeout(r),Be&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(o,35);Be&&(t=requestAnimationFrame(o))}function Z(e){var t=w,o=e.__c;typeof o=="function"&&(e.__c=void 0,o()),w=t}function ue(e){var t=w;e.__c=e.__(),w=t}function Ge(e,t){return!e||e.length!==t.length||t.some(function(o,r){return o!==e[r]})}function Oe(e,t){return typeof t=="function"?t(e):t}var G,w,de,Te,ee,Re,k,Me,ze,Le,Pe,Ue,Ie,Be,W=T(()=>{B();ee=0,Re=[],k=x,Me=k.__b,ze=k.__r,Le=k.diffed,Pe=k.__c,Ue=k.unmount,Ie=k.__;k.__b=function(e){w=null,Me&&Me(e)},k.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),Ie&&Ie(e,t)},k.__r=function(e){ze&&ze(e),G=0;var t=(w=e.__c).__H;t&&(de===w?(t.__h=[],w.__h=[],t.__.forEach(function(o){o.__N&&(o.__=o.__N),o.u=o.__N=void 0})):(t.__h.forEach(Z),t.__h.forEach(ue),t.__h=[],G=0)),de=w},k.diffed=function(e){Le&&Le(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Re.push(t)!==1&&Te===k.requestAnimationFrame||((Te=k.requestAnimationFrame)||bt)(vt)),t.__H.__.forEach(function(o){o.u&&(o.__H=o.u),o.u=void 0})),de=w=null},k.__c=function(e,t){t.some(function(o){try{o.__h.forEach(Z),o.__h=o.__h.filter(function(r){return!r.__||ue(r)})}catch(r){t.some(function(s){s.__h&&(s.__h=[])}),t=[],k.__e(r,o.__v)}}),Pe&&Pe(e,t)},k.unmount=function(e){Ue&&Ue(e);var t,o=e.__c;o&&o.__H&&(o.__H.__.forEach(function(r){try{Z(r)}catch(s){t=s}}),o.__H=void 0,t&&k.__e(t,o.__v))};Be=typeof requestAnimationFrame=="function"});function V(e,t){let o=`${We}`;return We+=1,j[o]={handler:t,name:e},function(){delete j[o]}}function je(e,t){let o=!1;for(let r in j)j[r].name===e&&(j[r].handler.apply(null,t),o=!0);if(o===!1)throw new Error(`No event handler with name \`${e}\``)}var j,We,N,Ve=T(()=>{j={},We=0;N=typeof window>"u"?function(e,...t){figma.ui.postMessage([e,...t])}:function(e,...t){window.parent.postMessage({pluginMessage:[e,...t]},"*")};typeof window>"u"?figma.ui.onmessage=function(e){if(!Array.isArray(e))return;let[t,...o]=e;typeof t=="string"&&je(t,o)}:window.onmessage=function(e){if(typeof e.data.pluginMessage>"u")return;let t=e.data.pluginMessage;if(!Array.isArray(t))return;let[o,...r]=e.data.pluginMessage;typeof o=="string"&&je(o,r)}});var te=T(()=>{Ve()});function $e({fontMetadata:e,availableFonts:t,onClose:o}){let[r,s]=S(""),[a,c]=S(""),[p,f]=S(!1),[l,u]=S(""),[i,m]=S(!1),[_,d]=S("");O(()=>{N("REQUEST_AVAILABLE_FONTS")},[]);let y=O(()=>{let v=new Set(t.map(F=>F.fontName.family));return Array.from(v).sort()},[t]),b=O(()=>r?t.filter(v=>v.fontName.family===r).map(v=>v.fontName.style).sort():[],[r,t]),g=C(v=>{let F=v.currentTarget.value;s(F),c("")},[]),h=C(v=>{let F=v.currentTarget.value;c(F)},[]),E=C(v=>{let F=v.currentTarget.value;u(F)},[]),H=C(v=>{let F=v.currentTarget.value;d(F)},[]),P=C(()=>{if(!r||!a)return;let v={targetFont:e.font,newFont:{family:r,style:a},occurrences:e.occurrences};p&&l&&(v.newLineHeight=parseFloat(l)),i&&_&&(v.newFontSize=parseFloat(_)),N("APPLY_REPLACEMENT",v),o()},[e,r,a,p,l,i,_,o]);return n("div",{class:"modal-overlay"},n("div",{class:"modal"},n("div",{class:"modal__header"},n("h3",{class:"modal__title"},"Replace Font"),n("p",{class:"modal__subtitle"},e.font.family," \u2014 ",e.font.style," \xB7 ",e.count," ranges in ",e.nodesCount," layers")),n("div",{class:"modal__body"},n("div",{class:"form-group"},n("label",{class:"form-label"},"Current Font"),n("div",{class:"card-row"},n("div",{class:"card-row__preview"},"Aa"),n("div",{class:"card-row__content"},n("div",{class:"card-row__title"},e.font.family," \u2014 ",e.font.style)))),n("div",{class:"form-group"},n("label",{class:"form-label"},"New Font Family"),n("select",{class:"form-select",value:r,onChange:g},n("option",{value:""},"Select font family..."),y.map(v=>n("option",{key:v,value:v},v)))),n("div",{class:"form-group"},n("label",{class:"form-label"},"Font Style"),n("select",{class:"form-select",value:a,onChange:h,disabled:!r},n("option",{value:""},r?"Select style...":"Select a family first"),b.map(v=>n("option",{key:v,value:v},v)))),n("div",{class:"form-group"},n("label",{class:"form-checkbox"},n("input",{type:"checkbox",checked:p,onChange:v=>f(v.target.checked)}),n("span",{class:"form-checkbox__label"},"Update Line Height")),p&&n("input",{type:"number",class:"form-input",placeholder:"Line height (px)",value:l,onInput:E})),n("div",{class:"form-group"},n("label",{class:"form-checkbox"},n("input",{type:"checkbox",checked:i,onChange:v=>m(v.target.checked)}),n("span",{class:"form-checkbox__label"},"Update Font Size")),i&&n("input",{type:"number",class:"form-input",placeholder:"Font size (px)",value:_,onInput:H}))),n("div",{class:"modal__footer"},n("button",{class:"btn btn--ghost",onClick:o},"Cancel"),n("button",{class:"btn btn--primary",onClick:P,disabled:!r||!a},"Apply"))))}var qe=T(()=>{"use strict";B();W();te()});function Ye({scanResult:e,availableFonts:t}){let[o,r]=S(""),[s,a]=S(null),c=C(l=>{a(l)},[]),p=C(()=>{a(null)},[]);if(!e||e.fonts.length===0)return n("div",{class:"empty-state"},n("svg",{class:"empty-state__icon",viewBox:"0 0 64 64",fill:"none"},n("path",{d:"M12 18H52M12 32H52M12 46H38",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round",opacity:"0.3"})),n("h3",{class:"empty-state__title"},"No fonts found"),n("p",{class:"empty-state__description"},"Select text layers and click Scan to discover fonts"));let f=e.fonts.filter(l=>{if(!o)return!0;let u=o.toLowerCase();return`${l.font.family} ${l.font.style}`.toLowerCase().includes(u)});return n("div",null,n("div",{class:"search-box"},n("svg",{class:"search-box__icon",viewBox:"0 0 16 16",fill:"none"},n("circle",{cx:"7",cy:"7",r:"5",stroke:"currentColor","stroke-width":"1.5"}),n("path",{d:"M11 11L14 14",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})),n("input",{type:"text",class:"search-box__input",placeholder:"Search fonts...",value:o,onInput:l=>r(l.target.value)})),f.length===0?n("div",{class:"empty-state"},n("p",null,"No fonts found.")):n("div",{class:"card-list"},f.map(l=>n("div",{key:`${l.font.family}-${l.font.style}`,class:"card-row"},n("div",{class:"card-row__preview"},"Aa"),n("div",{class:"card-row__content"},n("div",{class:"card-row__title"},l.font.family," \u2014 ",l.font.style),n("div",{class:"card-row__meta"},l.count," ranges \xB7 ",l.nodesCount," layers")),n("div",{class:"card-row__badge"},l.count),n("div",{class:"card-row__actions"},n("button",{class:"btn btn--ghost btn--small",onClick:u=>{u.stopPropagation(),c(l)}},"Replace"))))),s&&n($e,{fontMetadata:s,availableFonts:t,onClose:p}))}var Xe=T(()=>{"use strict";B();W();qe()});function Qe({scanResult:e}){let[t,o]=S("lineHeight"),[r,s]=S(null),[a,c]=S(""),[p,f]=S(new Set),l=C(d=>{N("PREVIEW_SELECTION",d.occurrences)},[]),u=C(d=>{r===d?(s(null),c("")):(s(d),c(""))},[r]),i=C((d,y)=>{if(!a)return;let b=y==="fontWeight"?a:parseFloat(a);N("BULK_UPDATE",{groupType:y,targetValue:b,occurrences:d.occurrences}),s(null),c("")},[a]),m=C(d=>{f(y=>{let b=new Set(y);return b.has(d)?b.delete(d):b.add(d),b})},[]);if(!e||e.fonts.length===0)return n("div",{class:"empty-state"},n("svg",{class:"empty-state__icon",viewBox:"0 0 64 64",fill:"none"},n("rect",{x:"16",y:"16",width:"32",height:"32",rx:"4",stroke:"currentColor","stroke-width":"3",opacity:"0.3"}),n("path",{d:"M28 28H36M28 36H40",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round",opacity:"0.3"})),n("h3",{class:"empty-state__title"},"No groups available"),n("p",{class:"empty-state__description"},"Scan fonts first to see grouped typography"));let _=e.groups[t]||[];return n("div",null,n("div",{class:"group-controls"},n("label",{class:"group-controls__label"},"Group by"),n("select",{class:"group-controls__select",value:t,onChange:d=>o(d.target.value)},n("option",{value:"lineHeight"},"Line Height"),n("option",{value:"fontSize"},"Font Size"),n("option",{value:"fontWeight"},"Font Weight"))),_.length===0?n("div",{class:"empty-state"},n("p",null,"No groups available.")):n("div",null,_.map(d=>{let y=p.has(d.key),b=r===d.key;return n("div",{key:d.key,class:y?"group-item group-item--expanded":"group-item"},n("div",{class:"group-item__header",onClick:()=>m(d.key)},n("div",{class:"group-item__title"},d.label),n("div",{class:"group-item__actions"},n("div",{class:"card-row__badge"},d.count),n("button",{class:"btn btn--ghost btn--small",onClick:g=>{g.stopPropagation(),l(d)}},"Select"),n("button",{class:b?"btn btn--primary btn--small":"btn btn--ghost btn--small",onClick:g=>{g.stopPropagation(),u(d.key)}},b?"Cancel":"Update"))),b&&n("div",{class:"group-item__update"},n("div",{class:"inline-update"},n("label",{class:"inline-update__label"},t==="fontWeight"&&"New weight",t==="fontSize"&&"New size (px)",t==="lineHeight"&&"New line height (px)"),t==="fontWeight"?n("select",{class:"inline-update__select",value:a,onChange:g=>c(g.target.value)},n("option",{value:""},"Select weight..."),n("option",{value:"100"},"100 - Thin"),n("option",{value:"200"},"200 - Extra Light"),n("option",{value:"300"},"300 - Light"),n("option",{value:"400"},"400 - Regular"),n("option",{value:"500"},"500 - Medium"),n("option",{value:"600"},"600 - Semi Bold"),n("option",{value:"700"},"700 - Bold"),n("option",{value:"800"},"800 - Extra Bold"),n("option",{value:"900"},"900 - Black")):n("input",{type:"number",class:"inline-update__input",placeholder:t==="fontSize"?"e.g. 16":"e.g. 24",value:a,onInput:g=>c(g.target.value)}),n("button",{class:"btn btn--primary btn--small",onClick:g=>{g.stopPropagation(),i(d,t)},disabled:!a},"Apply to ",d.count," range",d.count===1?"":"s"))),y&&n("div",{class:"group-item__content"},d.occurrences.slice(0,5).map((g,h)=>n("div",{key:`${g.nodeId}-${h}`,class:"group-occurrence"},n("div",{class:"group-occurrence__title"},g.font.family," ",g.font.style),n("div",{class:"group-occurrence__meta"},g.nodeName))),d.count>5&&n("div",{class:"group-occurrence__meta mt-2"},"+",d.count-5," more")))})))}var Je=T(()=>{"use strict";B();W();te()});var Ke=T(()=>{if(document.getElementById("f240388a61")===null){let e=document.createElement("style");e.id="f240388a61",e.textContent=":root{--bg-panel:#2b2b2b;--bg-card:#333;--bg-hover:#3a3a3a;--bg-input:#2e2e2e;--border-subtle:hsla(0,0%,100%,.06);--border-medium:hsla(0,0%,100%,.08);--text-primary:#ececec;--text-secondary:#bdbdbd;--text-muted:#888;--accent-primary:#2b8af7;--accent-hover:#1e7ce6;--accent-active:#1670d5;--spacing-1:4px;--spacing-2:6px;--spacing-3:10px;--spacing-4:12px;--spacing-5:16px;--spacing-6:20px;--header-height:44px;--footer-height:52px;--radius:6px;--radius-sm:4px}*{box-sizing:border-box;margin:0;padding:0}body,html{background:var(--bg-panel);height:100%;overflow:hidden;width:100%}body{color:var(--text-primary);font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif;font-size:13px;line-height:1.4;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.container{background:var(--bg-panel);display:flex;flex-direction:column;height:100vh;width:100%}.header{border-bottom:1px solid var(--border-subtle);flex-shrink:0;height:var(--header-height);justify-content:space-between;padding:0 var(--spacing-5)}.header,.header__title{align-items:center;display:flex}.header__title{color:var(--text-primary);font-size:13px;font-weight:600;gap:var(--spacing-2)}.header__icon{color:var(--accent-primary);height:16px;width:16px}.header__scan-btn{align-items:center;background:var(--accent-primary);border:none;border-radius:var(--radius-sm);color:#fff;cursor:pointer;display:flex;font-size:12px;font-weight:500;gap:var(--spacing-1);height:28px;padding:0 var(--spacing-3);transition:all .15s}.header__scan-btn:hover:not(:disabled){background:var(--accent-hover)}.header__scan-btn:disabled{cursor:not-allowed;opacity:.7}.header__scan-icon{height:14px;width:14px}.header__scan-icon--spinning{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.tabs{border-bottom:1px solid var(--border-subtle);display:flex;flex-shrink:0;gap:var(--spacing-5);padding:0 var(--spacing-5)}.tab{background:transparent;border:none;border-bottom:2px solid transparent;color:var(--text-secondary);cursor:pointer;font-size:12px;font-weight:500;margin-bottom:-1px;padding:var(--spacing-2) 0;position:relative;transition:color .2s}.tab:hover{color:var(--text-primary)}.tab--active{border-bottom-color:var(--accent-primary);color:var(--accent-primary);font-weight:600}.content{flex:1;overflow-x:hidden;overflow-y:auto;padding:var(--spacing-3) var(--spacing-4)}.welcome{align-items:center;display:flex;flex-direction:column;padding:var(--spacing-4) 0;text-align:center}.welcome__icon{color:var(--accent-primary);margin-bottom:var(--spacing-3)}.welcome__title{color:var(--text-primary);font-size:14px;font-weight:600;margin-bottom:var(--spacing-2)}.welcome__description{color:var(--text-secondary);font-size:12px;line-height:1.5;margin-bottom:var(--spacing-4);max-width:280px}.welcome__button{max-width:280px;width:100%}.status{color:var(--text-muted);font-size:12px;margin-top:var(--spacing-4)}.search-box{margin-bottom:var(--spacing-3);position:relative}.search-box__icon{color:var(--text-muted);height:14px;left:var(--spacing-2);pointer-events:none;position:absolute;top:50%;transform:translateY(-50%);width:14px}.search-box__input{background:var(--bg-input);border:1px solid var(--border-medium);border-radius:var(--radius-sm);color:var(--text-primary);font-size:12px;height:32px;padding:0 var(--spacing-2) 0 32px;transition:all .2s;width:100%}.search-box__input:focus{background:var(--bg-card);border-color:var(--accent-primary);outline:none}.search-box__input::placeholder{color:var(--text-muted)}.card-list{flex-direction:column}.card-list,.card-row{display:flex;gap:var(--spacing-2)}.card-row{align-items:center;background:var(--bg-card);border-radius:var(--radius);cursor:pointer;padding:var(--spacing-2);transition:all .15s}.card-row:hover{background:var(--bg-hover);box-shadow:0 1px 4px rgba(0,0,0,.15);transform:translateY(-1px)}.card-row__preview{align-items:center;background:var(--bg-panel);border-radius:var(--radius-sm);color:var(--text-secondary);display:flex;flex-shrink:0;font-size:16px;font-weight:600;height:36px;justify-content:center;width:36px}.card-row__content{flex:1;min-width:0}.card-row__title{color:var(--text-primary);font-size:12px;font-weight:500;margin-bottom:1px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card-row__meta{color:var(--text-secondary);font-size:11px}.card-row__badge{align-items:center;background:var(--bg-panel);border-radius:9px;color:var(--text-secondary);display:inline-flex;flex-shrink:0;font-size:10px;font-weight:600;height:18px;justify-content:center;min-width:22px;padding:0 var(--spacing-1)}.card-row__actions{display:flex;flex-shrink:0;gap:var(--spacing-1)}.btn{align-items:center;border:none;border-radius:var(--radius-sm);cursor:pointer;display:inline-flex;font-size:12px;font-weight:500;gap:var(--spacing-1);height:28px;justify-content:center;padding:0 var(--spacing-3);transition:all .15s;white-space:nowrap}.btn:disabled{cursor:not-allowed;opacity:.5}.btn--primary{background:var(--accent-primary);color:#fff}.btn--primary:hover:not(:disabled){background:var(--accent-hover)}.btn--primary:active:not(:disabled){background:var(--accent-active)}.btn--ghost{background:transparent;border:1px solid var(--border-medium);color:var(--text-primary)}.btn--ghost:hover:not(:disabled){background:var(--bg-hover);border-color:var(--text-muted)}.btn--small{font-size:11px;height:24px;padding:0 var(--spacing-2)}.group-controls{margin-bottom:var(--spacing-3)}.group-controls__label{color:var(--text-secondary);font-size:10px;font-weight:600;letter-spacing:.3px;margin-bottom:var(--spacing-1);text-transform:uppercase}.group-controls__select{background:var(--bg-input);border:1px solid var(--border-medium);border-radius:var(--radius-sm);color:var(--text-primary);cursor:pointer;font-size:12px;height:32px;padding:0 var(--spacing-2);transition:all .15s;width:100%}.group-controls__select:focus{background:var(--bg-card);border-color:var(--accent-primary);outline:none}.group-item{background:var(--bg-card);border-radius:var(--radius);margin-bottom:var(--spacing-2);overflow:hidden}.group-item__header{align-items:center;cursor:pointer;display:flex;justify-content:space-between;padding:var(--spacing-2) var(--spacing-3);transition:background .15s}.group-item__header:hover{background:var(--bg-hover)}.group-item__title{color:var(--text-primary);font-size:12px;font-weight:500}.group-item__actions{align-items:center;display:flex;gap:var(--spacing-1)}.group-item__content{background:var(--bg-panel);border-top:1px solid var(--border-subtle);display:none;padding:var(--spacing-3)}.group-item--expanded .group-item__content{display:block}.group-occurrence{border-bottom:1px solid var(--border-subtle);padding:var(--spacing-1) 0}.group-occurrence:last-child{border-bottom:none}.group-occurrence__title{color:var(--text-primary);font-size:11px;font-weight:500;margin-bottom:1px}.group-occurrence__meta{color:var(--text-secondary);font-size:10px}.group-item__update{background:var(--bg-hover);border-top:1px solid var(--border-subtle);padding:var(--spacing-3)}.inline-update{align-items:center;display:flex;gap:var(--spacing-2)}.inline-update__label{color:var(--text-secondary);font-size:11px;font-weight:500;white-space:nowrap}.inline-update__input,.inline-update__select{background:var(--bg-input);border:1px solid var(--border-medium);border-radius:var(--radius-sm);color:var(--text-primary);flex:1;font-size:12px;height:28px;min-width:100px;padding:0 var(--spacing-2)}.inline-update__input:focus,.inline-update__select:focus{background:var(--bg-card);border-color:var(--accent-primary);outline:none}.modal-overlay{align-items:center;animation:fadeIn .2s;background:rgba(0,0,0,.7);display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:1000}.modal{animation:slideUp .15s;background:var(--bg-panel);border:1px solid var(--border-medium);border-radius:var(--radius);box-shadow:0 4px 16px rgba(0,0,0,.4);max-width:380px;width:90%}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(12px) scale(.97)}to{opacity:1;transform:translateY(0) scale(1)}}.modal__header{border-bottom:1px solid var(--border-subtle);padding:var(--spacing-3) var(--spacing-4)}.modal__title{color:var(--text-primary);font-size:13px;font-weight:600;margin-bottom:var(--spacing-1)}.modal__subtitle{color:var(--text-secondary);font-size:11px}.modal__body{padding:var(--spacing-4)}.modal__footer{border-top:1px solid var(--border-subtle);display:flex;gap:var(--spacing-2);justify-content:flex-end;padding:var(--spacing-3) var(--spacing-4)}.form-group{margin-bottom:var(--spacing-3)}.form-group:last-child{margin-bottom:0}.form-label{color:var(--text-secondary);display:block;font-size:10px;font-weight:600;letter-spacing:.3px;margin-bottom:var(--spacing-1);text-transform:uppercase}.form-input,.form-select{background:var(--bg-input);border:1px solid var(--border-medium);border-radius:var(--radius-sm);color:var(--text-primary);font-size:12px;height:32px;padding:0 var(--spacing-2);transition:all .15s;width:100%}.form-input:focus,.form-select:focus{background:var(--bg-card);border-color:var(--accent-primary);outline:none}.form-input::placeholder{color:var(--text-muted)}.form-preview{align-items:center;background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);display:flex;gap:var(--spacing-3);padding:var(--spacing-3)}.form-preview__icon{align-items:center;background:var(--bg-panel);border-radius:var(--radius-sm);color:var(--text-secondary);display:flex;font-size:16px;font-weight:600;height:32px;justify-content:center;width:32px}.form-preview__text{color:var(--text-primary);font-size:14px}.form-info{align-items:flex-start;background:rgba(43,138,247,.1);border:1px solid rgba(43,138,247,.2);border-radius:var(--radius-sm);display:flex;gap:var(--spacing-2);padding:var(--spacing-3)}.form-info__icon{color:var(--accent-primary);flex-shrink:0;height:16px;margin-top:2px;width:16px}.form-info__text{color:var(--text-primary);font-size:13px;line-height:1.5}.form-checkbox{align-items:center;cursor:pointer;display:flex;gap:var(--spacing-2);margin-bottom:var(--spacing-2);user-select:none}.form-checkbox input[type=checkbox]{accent-color:var(--accent-primary);cursor:pointer;height:16px;margin:0;width:16px}.form-checkbox__label{color:var(--text-primary);font-size:14px;font-weight:500}.footer{align-items:center;background:var(--bg-panel);border-top:1px solid var(--border-subtle);display:flex;flex-shrink:0;height:var(--footer-height);justify-content:space-between;padding:0 var(--spacing-5)}.footer__status{color:var(--text-secondary);font-size:13px}.footer__actions{display:flex;gap:var(--spacing-2)}.toast{align-items:center;animation:slideUpToast .3s;background:var(--bg-card);border:1px solid var(--border-medium);border-radius:var(--radius);bottom:var(--spacing-5);box-shadow:0 4px 16px rgba(0,0,0,.3);display:flex;gap:var(--spacing-3);left:50%;padding:var(--spacing-3) var(--spacing-4);position:fixed;transform:translateX(-50%);z-index:2000}@keyframes slideUpToast{0%{opacity:0;transform:translateX(-50%) translateY(20px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}.toast__message{color:var(--text-primary);font-size:14px}.toast__undo{background:none;border:none;color:var(--accent-primary);cursor:pointer;font-size:13px;font-weight:500;padding:0;transition:color .2s}.toast__undo:hover{color:var(--accent-hover)}.progress-bar{background:var(--bg-input);border-radius:2px;height:4px;margin-top:var(--spacing-3);overflow:hidden;width:100%}.progress-bar__fill{background:var(--accent-primary);border-radius:2px;height:100%;transition:width .3s}.progress-text{color:var(--text-secondary);font-size:12px;margin-top:var(--spacing-2);text-align:center}.empty-state{align-items:center;display:flex;flex-direction:column;justify-content:center;min-height:200px;padding:var(--spacing-6) var(--spacing-4);text-align:center}.empty-state__icon{color:var(--text-muted);height:48px;margin-bottom:var(--spacing-3);width:48px}.empty-state__title{color:var(--text-secondary);font-size:13px;font-weight:600;margin-bottom:var(--spacing-1)}.empty-state__description{color:var(--text-muted);font-size:12px;line-height:1.5}.mt-2{margin-top:var(--spacing-2)}.mt-3{margin-top:var(--spacing-3)}.mt-4{margin-top:var(--spacing-4)}.mb-2{margin-bottom:var(--spacing-2)}.mb-3{margin-bottom:var(--spacing-3)}.mb-4{margin-bottom:var(--spacing-4)}",document.head.append(e)}});var et={};it(et,{default:()=>ht});function Ze(){let[e,t]=S("fonts"),[o,r]=S(null),[s,a]=S([]),[c,p]=S(!1),f=C(()=>{p(!0),N("SCAN_FONTS")},[]);return De(()=>{let l=V("FONTS_SCANNED",m=>{r(m),p(!1),m.fonts.length>0&&t("fonts")}),u=V("AVAILABLE_FONTS",m=>{a(m)}),i=V("REPLACEMENT_COMPLETE",()=>{N("SCAN_FONTS")});return()=>{l(),u(),i()}},[]),n("div",{class:"container"},n("header",{class:"header"},n("div",{class:"header__title"},n("svg",{class:"header__icon",viewBox:"0 0 20 20",fill:"none"},n("path",{d:"M3 5H17M3 10H17M3 15H12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})),"Font Toolkit"),n("button",{class:c?"header__scan-btn header__scan-btn--scanning":"header__scan-btn",onClick:f,disabled:c},c?n(L,null,n("svg",{class:"header__scan-icon header__scan-icon--spinning",viewBox:"0 0 16 16",fill:"none"},n("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor","stroke-width":"2","stroke-dasharray":"30 8"})),"Scanning..."):n(L,null,n("svg",{class:"header__scan-icon",viewBox:"0 0 16 16",fill:"none"},n("path",{d:"M8 2L8 14M2 8L14 8",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})),"Scan"))),n("nav",{class:"tabs"},n("button",{class:e==="fonts"?"tab tab--active":"tab",onClick:()=>t("fonts")},"Fonts"),n("button",{class:e==="groups"?"tab tab--active":"tab",onClick:()=>t("groups")},"Groups")),n("main",{class:"content"},e==="fonts"&&n(Ye,{scanResult:o,availableFonts:s}),e==="groups"&&n(Qe,{scanResult:o})))}function ht(){let e=document.getElementById("root");if(e)_e(n(Ze,null),e);else{let t=document.createElement("div");t.id="root",document.body.appendChild(t),_e(n(Ze,null),t)}}var tt=T(()=>{"use strict";B();W();te();Xe();Je();Ke()});var xt=document.getElementById("create-figma-plugin"),ot={"src/main.ts--default":(tt(),lt(et)).default},me=__FIGMA_COMMAND__===""?"src/main.ts--default":__FIGMA_COMMAND__;if(typeof ot[me]>"u")throw new Error("No UI defined for command `"+me+"`");ot[me](xt,__SHOW_UI_DATA__);})();
