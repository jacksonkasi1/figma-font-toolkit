(()=>{var ne=Object.defineProperty;var dt=Object.getOwnPropertyDescriptor;var pt=Object.getOwnPropertyNames;var ut=Object.prototype.hasOwnProperty;var F=(e,t)=>()=>(e&&(t=e(e=0)),t);var _t=(e,t)=>{for(var r in t)ne(e,r,{get:t[r],enumerable:!0})},ft=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of pt(t))!ut.call(e,s)&&s!==r&&ne(e,s,{get:()=>t[s],enumerable:!(n=dt(t,s))||n.enumerable});return e};var vt=e=>ft(ne({},"__esModule",{value:!0}),e);function N(e,t){for(var r in t)e[r]=t[r];return e}function ce(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function o(e,t,r){var n,s,a,c={};for(a in t)a=="key"?n=t[a]:a=="ref"?s=t[a]:c[a]=t[a];if(arguments.length>2&&(c.children=arguments.length>3?ee.call(arguments,2):r),typeof e=="function"&&e.defaultProps!=null)for(a in e.defaultProps)c[a]===void 0&&(c[a]=e.defaultProps[a]);return K(e,c,n,s,null)}function K(e,t,r,n,s){var a={type:e,props:t,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:s==null?++ke:s,__i:-1,__u:0};return s==null&&w.vnode!=null&&w.vnode(a),a}function U(e){return e.children}function J(e,t){this.props=e,this.context=t}function W(e,t){if(t==null)return e.__?W(e.__,e.__i+1):null;for(var r;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null)return r.__e;return typeof e.type=="function"?W(e):null}function ze(e){var t,r;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((r=e.__k[t])!=null&&r.__e!=null){e.__e=e.__c.base=r.__e;break}return ze(e)}}function xe(e){(!e.__d&&(e.__d=!0)&&P.push(e)&&!Z.__r++||he!=w.debounceRendering)&&((he=w.debounceRendering)||Se)(Z)}function Z(){for(var e,t,r,n,s,a,c,d=1;P.length;)P.length>d&&P.sort(Ce),e=P.shift(),d=P.length,e.__d&&(r=void 0,n=void 0,s=(n=(t=e).__v).__e,a=[],c=[],t.__P&&((r=N({},n)).__v=n.__v+1,w.vnode&&w.vnode(r),de(t.__P,r,n,t.__n,t.__P.namespaceURI,32&n.__u?[s]:null,a,s==null?W(n):s,!!(32&n.__u),c),r.__v=n.__v,r.__.__k[r.__i]=r,Le(a,r,c),n.__e=n.__=null,r.__e!=s&&ze(r)));Z.__r=0}function Ee(e,t,r,n,s,a,c,d,p,l,_){var i,v,u,f,S,h,m,x=n&&n.__k||Te,E=t.length;for(p=ht(r,t,x,p,E),i=0;i<E;i++)(u=r.__k[i])!=null&&(v=u.__i==-1?V:x[u.__i]||V,u.__i=i,h=de(e,u,v,s,a,c,d,p,l,_),f=u.__e,u.ref&&v.ref!=u.ref&&(v.ref&&pe(v.ref,null,u),_.push(u.ref,u.__c||f,u)),S==null&&f!=null&&(S=f),(m=!!(4&u.__u))||v.__k===u.__k?p=Fe(u,p,e,m):typeof u.type=="function"&&h!==void 0?p=h:f&&(p=f.nextSibling),u.__u&=-7);return r.__e=S,p}function ht(e,t,r,n,s){var a,c,d,p,l,_=r.length,i=_,v=0;for(e.__k=new Array(s),a=0;a<s;a++)(c=t[a])!=null&&typeof c!="boolean"&&typeof c!="function"?(p=a+v,(c=e.__k[a]=typeof c=="string"||typeof c=="number"||typeof c=="bigint"||c.constructor==String?K(null,c,null,null,null):te(c)?K(U,{children:c},null,null,null):c.constructor==null&&c.__b>0?K(c.type,c.props,c.key,c.ref?c.ref:null,c.__v):c).__=e,c.__b=e.__b+1,d=null,(l=c.__i=xt(c,r,p,i))!=-1&&(i--,(d=r[l])&&(d.__u|=2)),d==null||d.__v==null?(l==-1&&(s>_?v--:s<_&&v++),typeof c.type!="function"&&(c.__u|=4)):l!=p&&(l==p-1?v--:l==p+1?v++:(l>p?v--:v++,c.__u|=4))):e.__k[a]=null;if(i)for(a=0;a<_;a++)(d=r[a])!=null&&!(2&d.__u)&&(d.__e==n&&(n=W(d)),Ae(d,d));return n}function Fe(e,t,r,n){var s,a;if(typeof e.type=="function"){for(s=e.__k,a=0;s&&a<s.length;a++)s[a]&&(s[a].__=e,t=Fe(s[a],t,r,n));return t}e.__e!=t&&(n&&(t&&e.type&&!t.parentNode&&(t=W(e)),r.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function xt(e,t,r,n){var s,a,c,d=e.key,p=e.type,l=t[r],_=l!=null&&(2&l.__u)==0;if(l===null&&e.key==null||_&&d==l.key&&p==l.type)return r;if(n>(_?1:0)){for(s=r-1,a=r+1;s>=0||a<t.length;)if((l=t[c=s>=0?s--:a++])!=null&&!(2&l.__u)&&d==l.key&&p==l.type)return c}return-1}function ye(e,t,r){t[0]=="-"?e.setProperty(t,r==null?"":r):e[t]=r==null?"":typeof r!="number"||bt.test(t)?r:r+"px"}function Q(e,t,r,n,s){var a,c;e:if(t=="style")if(typeof r=="string")e.style.cssText=r;else{if(typeof n=="string"&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||ye(e.style,t,"");if(r)for(t in r)n&&r[t]==n[t]||ye(e.style,t,r[t])}else if(t[0]=="o"&&t[1]=="n")a=t!=(t=t.replace(He,"$1")),c=t.toLowerCase(),t=c in e||t=="onFocusOut"||t=="onFocusIn"?c.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+a]=r,r?n?r.u=n.u:(r.u=le,e.addEventListener(t,a?ie:ae,a)):e.removeEventListener(t,a?ie:ae,a);else{if(s=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=r==null?"":r;break e}catch(d){}typeof r=="function"||(r==null||r===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&r==1?"":r))}}function we(e){return function(t){if(this.l){var r=this.l[t.type+e];if(t.t==null)t.t=le++;else if(t.t<r.u)return;return r(w.event?w.event(t):t)}}}function de(e,t,r,n,s,a,c,d,p,l){var _,i,v,u,f,S,h,m,x,E,b,T,g,M,X,j,re,L=t.type;if(t.constructor!=null)return null;128&r.__u&&(p=!!(32&r.__u),a=[d=t.__e=r.__e]),(_=w.__b)&&_(t);e:if(typeof L=="function")try{if(m=t.props,x="prototype"in L&&L.prototype.render,E=(_=L.contextType)&&n[_.__c],b=_?E?E.props.value:_.__:n,r.__c?h=(i=t.__c=r.__c).__=i.__E:(x?t.__c=i=new L(m,b):(t.__c=i=new J(m,b),i.constructor=L,i.render=wt),E&&E.sub(i),i.props=m,i.state||(i.state={}),i.context=b,i.__n=n,v=i.__d=!0,i.__h=[],i._sb=[]),x&&i.__s==null&&(i.__s=i.state),x&&L.getDerivedStateFromProps!=null&&(i.__s==i.state&&(i.__s=N({},i.__s)),N(i.__s,L.getDerivedStateFromProps(m,i.__s))),u=i.props,f=i.state,i.__v=t,v)x&&L.getDerivedStateFromProps==null&&i.componentWillMount!=null&&i.componentWillMount(),x&&i.componentDidMount!=null&&i.__h.push(i.componentDidMount);else{if(x&&L.getDerivedStateFromProps==null&&m!==u&&i.componentWillReceiveProps!=null&&i.componentWillReceiveProps(m,b),!i.__e&&i.shouldComponentUpdate!=null&&i.shouldComponentUpdate(m,i.__s,b)===!1||t.__v==r.__v){for(t.__v!=r.__v&&(i.props=m,i.state=i.__s,i.__d=!1),t.__e=r.__e,t.__k=r.__k,t.__k.some(function(D){D&&(D.__=t)}),T=0;T<i._sb.length;T++)i.__h.push(i._sb[T]);i._sb=[],i.__h.length&&c.push(i);break e}i.componentWillUpdate!=null&&i.componentWillUpdate(m,i.__s,b),x&&i.componentDidUpdate!=null&&i.__h.push(function(){i.componentDidUpdate(u,f,S)})}if(i.context=b,i.props=m,i.__P=e,i.__e=!1,g=w.__r,M=0,x){for(i.state=i.__s,i.__d=!1,g&&g(t),_=i.render(i.props,i.state,i.context),X=0;X<i._sb.length;X++)i.__h.push(i._sb[X]);i._sb=[]}else do i.__d=!1,g&&g(t),_=i.render(i.props,i.state,i.context),i.state=i.__s;while(i.__d&&++M<25);i.state=i.__s,i.getChildContext!=null&&(n=N(N({},n),i.getChildContext())),x&&!v&&i.getSnapshotBeforeUpdate!=null&&(S=i.getSnapshotBeforeUpdate(u,f)),j=_,_!=null&&_.type===U&&_.key==null&&(j=Ne(_.props.children)),d=Ee(e,te(j)?j:[j],t,r,n,s,a,c,d,p,l),i.base=t.__e,t.__u&=-161,i.__h.length&&c.push(i),h&&(i.__E=i.__=null)}catch(D){if(t.__v=null,p||a!=null)if(D.then){for(t.__u|=p?160:128;d&&d.nodeType==8&&d.nextSibling;)d=d.nextSibling;a[a.indexOf(d)]=null,t.__e=d}else{for(re=a.length;re--;)ce(a[re]);se(t)}else t.__e=r.__e,t.__k=r.__k,D.then||se(t);w.__e(D,t,r)}else a==null&&t.__v==r.__v?(t.__k=r.__k,t.__e=r.__e):d=t.__e=yt(r.__e,t,r,n,s,a,c,p,l);return(_=w.diffed)&&_(t),128&t.__u?void 0:d}function se(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(se)}function Le(e,t,r){for(var n=0;n<r.length;n++)pe(r[n],r[++n],r[++n]);w.__c&&w.__c(t,e),e.some(function(s){try{e=s.__h,s.__h=[],e.some(function(a){a.call(s)})}catch(a){w.__e(a,s.__v)}})}function Ne(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:te(e)?e.map(Ne):N({},e)}function yt(e,t,r,n,s,a,c,d,p){var l,_,i,v,u,f,S,h=r.props,m=t.props,x=t.type;if(x=="svg"?s="http://www.w3.org/2000/svg":x=="math"?s="http://www.w3.org/1998/Math/MathML":s||(s="http://www.w3.org/1999/xhtml"),a!=null){for(l=0;l<a.length;l++)if((u=a[l])&&"setAttribute"in u==!!x&&(x?u.localName==x:u.nodeType==3)){e=u,a[l]=null;break}}if(e==null){if(x==null)return document.createTextNode(m);e=document.createElementNS(s,x,m.is&&m),d&&(w.__m&&w.__m(t,a),d=!1),a=null}if(x==null)h===m||d&&e.data==m||(e.data=m);else{if(a=a&&ee.call(e.childNodes),h=r.props||V,!d&&a!=null)for(h={},l=0;l<e.attributes.length;l++)h[(u=e.attributes[l]).name]=u.value;for(l in h)if(u=h[l],l!="children"){if(l=="dangerouslySetInnerHTML")i=u;else if(!(l in m)){if(l=="value"&&"defaultValue"in m||l=="checked"&&"defaultChecked"in m)continue;Q(e,l,null,u,s)}}for(l in m)u=m[l],l=="children"?v=u:l=="dangerouslySetInnerHTML"?_=u:l=="value"?f=u:l=="checked"?S=u:d&&typeof u!="function"||h[l]===u||Q(e,l,u,h[l],s);if(_)d||i&&(_.__html==i.__html||_.__html==e.innerHTML)||(e.innerHTML=_.__html),t.__k=[];else if(i&&(e.innerHTML=""),Ee(t.type=="template"?e.content:e,te(v)?v:[v],t,r,n,x=="foreignObject"?"http://www.w3.org/1999/xhtml":s,a,c,a?a[0]:r.__k&&W(r,0),d,p),a!=null)for(l=a.length;l--;)ce(a[l]);d||(l="value",x=="progress"&&f==null?e.removeAttribute("value"):f!=null&&(f!==e[l]||x=="progress"&&!f||x=="option"&&f!=h[l])&&Q(e,l,f,h[l],s),l="checked",S!=null&&S!=e[l]&&Q(e,l,S,h[l],s))}return e}function pe(e,t,r){try{if(typeof e=="function"){var n=typeof e.__u=="function";n&&e.__u(),n&&t==null||(e.__u=e(t))}else e.current=t}catch(s){w.__e(s,r)}}function Ae(e,t,r){var n,s;if(w.unmount&&w.unmount(e),(n=e.ref)&&(n.current&&n.current!=e.__e||pe(n,null,t)),(n=e.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(a){w.__e(a,t)}n.base=n.__P=null}if(n=e.__k)for(s=0;s<n.length;s++)n[s]&&Ae(n[s],t,r||typeof e.type!="function");r||ce(e.__e),e.__c=e.__=e.__e=void 0}function wt(e,t,r){return this.constructor(e,r)}function ue(e,t,r){var n,s,a,c;t==document&&(t=document.documentElement),w.__&&w.__(e,t),s=(n=typeof r=="function")?null:r&&r.__k||t.__k,a=[],c=[],de(t,e=(!n&&r||t).__k=o(U,null,[e]),s||V,V,t.namespaceURI,!n&&r?[r]:s?null:t.firstChild?ee.call(t.childNodes):null,a,!n&&r?r:s?s.__e:t.firstChild,n,c),Le(a,e,c)}var ee,w,ke,mt,P,he,Se,Ce,He,le,ae,ie,gt,V,Te,bt,te,A=F(()=>{V={},Te=[],bt=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,te=Array.isArray;ee=Te.slice,w={__e:function(e,t,r,n){for(var s,a,c;t=t.__;)if((s=t.__c)&&!s.__)try{if((a=s.constructor)&&a.getDerivedStateFromError!=null&&(s.setState(a.getDerivedStateFromError(e)),c=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(e,n||{}),c=s.__d),c)return s.__E=s}catch(d){e=d}throw e}},ke=0,mt=function(e){return e!=null&&e.constructor==null},J.prototype.setState=function(e,t){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=N({},this.state),typeof e=="function"&&(e=e(N({},r),this.props)),e&&N(r,e),e!=null&&this.__v&&(t&&this._sb.push(t),xe(this))},J.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),xe(this))},J.prototype.render=U,P=[],Se=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ce=function(e,t){return e.__v.__b-t.__v.__b},Z.__r=0,He=/(PointerCapture)$|Capture$/i,le=0,ae=we(!1),ie=we(!0),gt=0});function ve(e,t){H.__h&&H.__h(C,e,q||t),q=0;var r=C.__H||(C.__H={__:[],__h:[]});return e>=r.__.length&&r.__.push({}),r.__[e]}function y(e){return q=1,kt(je,e)}function kt(e,t,r){var n=ve($++,2);if(n.t=e,!n.__c&&(n.__=[r?r(t):je(void 0,t),function(d){var p=n.__N?n.__N[0]:n.__[0],l=n.t(p,d);p!==l&&(n.__N=[l,n.__[1]],n.__c.setState({}))}],n.__c=C,!C.__f)){var s=function(d,p,l){if(!n.__c.__H)return!0;var _=n.__c.__H.__.filter(function(v){return!!v.__c});if(_.every(function(v){return!v.__N}))return!a||a.call(this,d,p,l);var i=n.__c.props!==d;return _.forEach(function(v){if(v.__N){var u=v.__[0];v.__=v.__N,v.__N=void 0,u!==v.__[0]&&(i=!0)}}),a&&a.call(this,d,p,l)||i};C.__f=!0;var a=C.shouldComponentUpdate,c=C.componentWillUpdate;C.componentWillUpdate=function(d,p,l){if(this.__e){var _=a;a=void 0,s(d,p,l),a=_}c&&c.call(this,d,p,l)},C.shouldComponentUpdate=s}return n.__N||n.__}function R(e,t){var r=ve($++,3);!H.__s&&Oe(r.__H,t)&&(r.__=e,r.u=t,C.__H.__h.push(r))}function me(e){return q=5,G(function(){return{current:e}},[])}function G(e,t){var r=ve($++,7);return Oe(r.__H,t)&&(r.__=e(),r.__H=t,r.__h=e),r.__}function k(e,t){return q=8,G(function(){return e},t)}function St(){for(var e;e=Ge.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(oe),e.__H.__h.forEach(fe),e.__H.__h=[]}catch(t){e.__H.__h=[],H.__e(t,e.__v)}}function Ct(e){var t,r=function(){clearTimeout(n),We&&cancelAnimationFrame(t),setTimeout(e)},n=setTimeout(r,35);We&&(t=requestAnimationFrame(r))}function oe(e){var t=C,r=e.__c;typeof r=="function"&&(e.__c=void 0,r()),C=t}function fe(e){var t=C;e.__c=e.__(),C=t}function Oe(e,t){return!e||e.length!==t.length||t.some(function(r,n){return r!==e[n]})}function je(e,t){return typeof t=="function"?t(e):t}var $,C,_e,Ie,q,Ge,H,Me,Re,Be,Pe,Ue,De,We,B=F(()=>{A();q=0,Ge=[],H=w,Me=H.__b,Re=H.__r,Be=H.diffed,Pe=H.__c,Ue=H.unmount,De=H.__;H.__b=function(e){C=null,Me&&Me(e)},H.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),De&&De(e,t)},H.__r=function(e){Re&&Re(e),$=0;var t=(C=e.__c).__H;t&&(_e===C?(t.__h=[],C.__h=[],t.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(t.__h.forEach(oe),t.__h.forEach(fe),t.__h=[],$=0)),_e=C},H.diffed=function(e){Be&&Be(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Ge.push(t)!==1&&Ie===H.requestAnimationFrame||((Ie=H.requestAnimationFrame)||Ct)(St)),t.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),_e=C=null},H.__c=function(e,t){t.some(function(r){try{r.__h.forEach(oe),r.__h=r.__h.filter(function(n){return!n.__||fe(n)})}catch(n){t.some(function(s){s.__h&&(s.__h=[])}),t=[],H.__e(n,r.__v)}}),Pe&&Pe(e,t)},H.unmount=function(e){Ue&&Ue(e);var t,r=e.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{oe(n)}catch(s){t=s}}),r.__H=void 0,t&&H.__e(t,r.__v))};We=typeof requestAnimationFrame=="function"});function I(e,t){let r=`${Ve}`;return Ve+=1,Y[r]={handler:t,name:e},function(){delete Y[r]}}function $e(e,t){let r=!1;for(let n in Y)Y[n].name===e&&(Y[n].handler.apply(null,t),r=!0);if(r===!1)throw new Error(`No event handler with name \`${e}\``)}var Y,Ve,z,qe=F(()=>{Y={},Ve=0;z=typeof window>"u"?function(e,...t){figma.ui.postMessage([e,...t])}:function(e,...t){window.parent.postMessage({pluginMessage:[e,...t]},"*")};typeof window>"u"?figma.ui.onmessage=function(e){if(!Array.isArray(e))return;let[t,...r]=e;typeof t=="string"&&$e(t,r)}:window.onmessage=function(e){if(typeof e.data.pluginMessage>"u")return;let t=e.data.pluginMessage;if(!Array.isArray(t))return;let[r,...n]=e.data.pluginMessage;typeof r=="string"&&$e(r,n)}});var O=F(()=>{qe()});function ge({options:e,value:t,placeholder:r,onChange:n,disabled:s,className:a}){let[c,d]=y(!1),[p,l]=y(""),[_,i]=y(-1),v=me(null),u=me(null),f=e.filter(b=>b.toLowerCase().includes(p.toLowerCase())),S=k(()=>{s||(d(!0),i(-1))},[s]),h=k(b=>{u.current&&u.current.contains(b.relatedTarget)||(d(!1),l(""))},[]),m=k(b=>{var T;n(b),d(!1),l(""),(T=v.current)==null||T.blur()},[n]),x=k(b=>{var T;if(!c){(b.key==="Enter"||b.key==="ArrowDown")&&(b.preventDefault(),d(!0));return}switch(b.key){case"ArrowDown":b.preventDefault(),i(g=>g<f.length-1?g+1:g);break;case"ArrowUp":b.preventDefault(),i(g=>g>0?g-1:-1);break;case"Enter":b.preventDefault(),_>=0&&f[_]&&m(f[_]);break;case"Escape":b.preventDefault(),d(!1),l(""),(T=v.current)==null||T.blur();break}},[c,f,_,m]);R(()=>{if(_>=0&&u.current){let b=u.current.children[_];b&&b.scrollIntoView({block:"nearest"})}},[_]);let E=c?p:t||"";return o("div",{class:`combobox ${a||""}`},o("div",{class:"combobox__input-wrapper"},o("input",{ref:v,type:"text",class:"combobox__input",value:E,placeholder:r||"Select...",onFocus:S,onBlur:h,onInput:b=>l(b.target.value),onKeyDown:x,disabled:s,autocomplete:"off"})),c&&o("div",{ref:u,class:"combobox__dropdown"},f.length===0?o("div",{class:"combobox__empty"},"No options found"):f.map((b,T)=>o("div",{key:b,class:`combobox__option ${b===t?"combobox__option--selected":""} ${T===_?"combobox__option--highlighted":""}`,onMouseDown:g=>{g.preventDefault(),m(b)},onMouseEnter:()=>i(T)},b))))}var Ye=F(()=>{"use strict";A();B()});function Xe({fontMetadata:e,availableFonts:t,onClose:r}){let[n,s]=y(""),[a,c]=y(""),[d,p]=y(!1),[l,_]=y(""),[i,v]=y(!1),[u,f]=y("");G(()=>{z("REQUEST_AVAILABLE_FONTS")},[]);let S=G(()=>{let g=new Set(t.map(M=>M.fontName.family));return Array.from(g).sort()},[t]),h=G(()=>n?t.filter(g=>g.fontName.family===n).map(g=>g.fontName.style).sort():[],[n,t]),m=k(g=>{s(g),c("")},[]),x=k(g=>{c(g)},[]),E=k(g=>{let M=g.currentTarget.value;_(M)},[]),b=k(g=>{let M=g.currentTarget.value;f(M)},[]),T=k(()=>{if(!n||!a)return;let g={targetFont:e.font,newFont:{family:n,style:a},occurrences:e.occurrences};d&&l&&(g.newLineHeight=parseFloat(l)),i&&u&&(g.newFontSize=parseFloat(u)),z("APPLY_REPLACEMENT",g),r()},[e,n,a,d,l,i,u,r]);return o("div",{class:"modal-overlay"},o("div",{class:"modal"},o("div",{class:"modal__header"},o("h3",{class:"modal__title"},"Replace Font"),o("p",{class:"modal__subtitle"},e.font.family," \u2014 ",e.font.style," \xB7 ",e.count," ranges in ",e.nodesCount," layers")),o("div",{class:"modal__body"},o("div",{class:"form-group"},o("label",{class:"form-label"},"Current Font"),o("div",{class:"card-row"},o("div",{class:"card-row__preview"},"Aa"),o("div",{class:"card-row__content"},o("div",{class:"card-row__title"},e.font.family," \u2014 ",e.font.style)))),o("div",{class:"form-group"},o("label",{class:"form-label"},"New Font Family"),o(ge,{options:S,value:n,placeholder:"Search or select font family...",onChange:m})),o("div",{class:"form-group"},o("label",{class:"form-label"},"Font Style"),o(ge,{options:h,value:a,placeholder:n?"Search or select style...":"Select a family first",onChange:x,disabled:!n})),o("div",{class:"form-group"},o("label",{class:"form-checkbox"},o("input",{type:"checkbox",checked:d,onChange:g=>p(g.target.checked)}),o("span",{class:"form-checkbox__label"},"Update Line Height")),d&&o("input",{type:"number",class:"form-input",placeholder:"Line height (px)",value:l,onInput:E})),o("div",{class:"form-group"},o("label",{class:"form-checkbox"},o("input",{type:"checkbox",checked:i,onChange:g=>v(g.target.checked)}),o("span",{class:"form-checkbox__label"},"Update Font Size")),i&&o("input",{type:"number",class:"form-input",placeholder:"Font size (px)",value:u,onInput:b}))),o("div",{class:"modal__footer"},o("button",{class:"btn btn--ghost",onClick:r},"Cancel"),o("button",{class:"btn btn--primary",onClick:T,disabled:!n||!a},"Apply"))))}var Qe=F(()=>{"use strict";A();B();O();Ye()});function Ke({scanResult:e,availableFonts:t}){let[r,n]=y(""),[s,a]=y(null),c=k(l=>{a(l)},[]),d=k(()=>{a(null)},[]);if(!e||e.fonts.length===0)return o("div",{class:"empty-state"},o("svg",{class:"empty-state__icon",viewBox:"0 0 64 64",fill:"none"},o("path",{d:"M12 18H52M12 32H52M12 46H38",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round",opacity:"0.3"})),o("h3",{class:"empty-state__title"},"No fonts found"),o("p",{class:"empty-state__description"},"Select text layers and click Scan to discover fonts"));let p=e.fonts.filter(l=>{if(!r)return!0;let _=r.toLowerCase();return`${l.font.family} ${l.font.style}`.toLowerCase().includes(_)});return o("div",null,o("div",{class:"search-box"},o("svg",{class:"search-box__icon",viewBox:"0 0 16 16",fill:"none"},o("circle",{cx:"7",cy:"7",r:"5",stroke:"currentColor","stroke-width":"1.5"}),o("path",{d:"M11 11L14 14",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})),o("input",{type:"text",class:"search-box__input",placeholder:"Search fonts...",value:r,onInput:l=>n(l.target.value)})),p.length===0?o("div",{class:"empty-state"},o("p",null,"No fonts found.")):o("div",{class:"card-list"},p.map(l=>o("div",{key:`${l.font.family}-${l.font.style}`,class:"card-row"},o("div",{class:"card-row__preview"},"Aa"),o("div",{class:"card-row__content"},o("div",{class:"card-row__title"},l.font.family," \u2014 ",l.font.style),o("div",{class:"card-row__meta"},l.count," ranges \xB7 ",l.nodesCount," layers")),o("div",{class:"card-row__badge"},l.count),o("div",{class:"card-row__actions"},o("button",{class:"btn btn--ghost btn--small",onClick:_=>{_.stopPropagation(),c(l)}},"Replace"))))),s&&o(Xe,{fontMetadata:s,availableFonts:t,onClose:d}))}var Je=F(()=>{"use strict";A();B();Qe()});function Ze({scanResult:e}){let[t,r]=y("lineHeight"),[n,s]=y(null),[a,c]=y(""),[d,p]=y(new Set),l=k(f=>{z("PREVIEW_SELECTION",f.occurrences)},[]),_=k(f=>{n===f?(s(null),c("")):(s(f),c(""))},[n]),i=k((f,S)=>{if(!a)return;let h=S==="fontWeight"?a:parseFloat(a);z("BULK_UPDATE",{groupType:S,targetValue:h,occurrences:f.occurrences}),s(null),c("")},[a]),v=k(f=>{p(S=>{let h=new Set(S);return h.has(f)?h.delete(f):h.add(f),h})},[]);if(!e||e.fonts.length===0)return o("div",{class:"empty-state"},o("svg",{class:"empty-state__icon",viewBox:"0 0 64 64",fill:"none"},o("rect",{x:"16",y:"16",width:"32",height:"32",rx:"4",stroke:"currentColor","stroke-width":"3",opacity:"0.3"}),o("path",{d:"M28 28H36M28 36H40",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round",opacity:"0.3"})),o("h3",{class:"empty-state__title"},"No groups available"),o("p",{class:"empty-state__description"},"Scan fonts first to see grouped typography"));let u=e.groups[t]||[];return o("div",null,o("div",{class:"group-controls"},o("label",{class:"group-controls__label"},"Group by"),o("select",{class:"group-controls__select",value:t,onChange:f=>r(f.target.value)},o("option",{value:"lineHeight"},"Line Height"),o("option",{value:"fontSize"},"Font Size"),o("option",{value:"fontWeight"},"Font Weight"))),u.length===0?o("div",{class:"empty-state"},o("p",null,"No groups available.")):o("div",null,u.map(f=>{let S=d.has(f.key),h=n===f.key;return o("div",{key:f.key,class:S?"group-item group-item--expanded":"group-item"},o("div",{class:"group-item__header",onClick:()=>v(f.key)},o("div",{class:"group-item__title"},f.label),o("div",{class:"group-item__actions"},o("div",{class:"card-row__badge"},f.count),o("button",{class:"btn btn--ghost btn--small",onClick:m=>{m.stopPropagation(),l(f)}},"Select"),o("button",{class:h?"btn btn--primary btn--small":"btn btn--ghost btn--small",onClick:m=>{m.stopPropagation(),_(f.key)}},h?"Cancel":"Update"))),h&&o("div",{class:"group-item__update"},o("div",{class:"inline-update"},o("label",{class:"inline-update__label"},t==="fontWeight"&&"New weight",t==="fontSize"&&"New size (px)",t==="lineHeight"&&"New line height (px)"),t==="fontWeight"?o("select",{class:"inline-update__select",value:a,onChange:m=>c(m.target.value)},o("option",{value:""},"Select weight..."),o("option",{value:"100"},"100 - Thin"),o("option",{value:"200"},"200 - Extra Light"),o("option",{value:"300"},"300 - Light"),o("option",{value:"400"},"400 - Regular"),o("option",{value:"500"},"500 - Medium"),o("option",{value:"600"},"600 - Semi Bold"),o("option",{value:"700"},"700 - Bold"),o("option",{value:"800"},"800 - Extra Bold"),o("option",{value:"900"},"900 - Black")):o("input",{type:"number",class:"inline-update__input",placeholder:t==="fontSize"?"e.g. 16":"e.g. 24",value:a,onInput:m=>c(m.target.value)}),o("button",{class:"btn btn--primary btn--small",onClick:m=>{m.stopPropagation(),i(f,t)},disabled:!a},"Apply to ",f.count," range",f.count===1?"":"s"))),S&&o("div",{class:"group-item__content"},f.occurrences.slice(0,5).map((m,x)=>o("div",{key:`${m.nodeId}-${x}`,class:"group-occurrence"},o("div",{class:"group-occurrence__title"},m.font.family," ",m.font.style),o("div",{class:"group-occurrence__meta"},m.nodeName))),f.count>5&&o("div",{class:"group-occurrence__meta mt-2"},"+",f.count-5," more")))})))}var et=F(()=>{"use strict";A();B();O()});function tt(){let[e,t]=y(null),[r,n]=y(!1),s=k(()=>{n(!0),z("TRIM_TEXT")},[]);return R(()=>{let a=I("TRIM_COMPLETE",c=>{t(c),n(!1)});return()=>{a()}},[]),o("div",null,o("div",{style:{padding:"16px",borderBottom:"1px solid var(--color-border)"}},o("h3",{style:{margin:"0 0 8px 0",fontSize:"13px",fontWeight:600}},"Vertical Text Trimming"),o("p",{style:{margin:"0",fontSize:"11px",color:"var(--color-text-secondary)",lineHeight:"1.5"}},"Remove extra whitespace (half-leading) from text layers using font metrics. Select text layers and click Trim to fix line height spacing issues.")),o("div",{style:{padding:"16px"}},o("button",{class:"btn btn--primary",onClick:s,disabled:r,style:{width:"100%"}},r?"Trimming...":"Trim Selected Text"),o("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"var(--color-bg-subtle)",borderRadius:"4px",fontSize:"11px",lineHeight:"1.5"}},o("div",{style:{fontWeight:600,marginBottom:"4px"}},"How it works:"),o("ol",{style:{margin:"0",paddingLeft:"16px"}},o("li",null,"Analyzes font metrics (ascender, descender, cap height)"),o("li",null,"Calculates precise top and bottom trim values"),o("li",null,"Creates an auto-layout frame around the text"),o("li",null,"Applies negative offset to remove extra spacing")))),e&&o("div",{style:{borderTop:"1px solid var(--color-border)"}},e.success?o("div",null,o("div",{style:{padding:"16px",backgroundColor:"var(--color-bg-success-subtle)"}},o("div",{style:{fontSize:"11px",color:"var(--color-text-success)",fontWeight:600}},"\u2713 Successfully trimmed ",e.trimmedNodes," text layer",e.trimmedNodes!==1?"s":"")),e.trimmedTexts.length>0&&o("div",{class:"card-list",style:{maxHeight:"300px",overflowY:"auto"}},e.trimmedTexts.map(a=>o("div",{key:a.nodeId,class:"card-row"},o("div",{class:"card-row__content"},o("div",{class:"card-row__title",style:{fontSize:"12px"}},a.nodeName),o("div",{class:"card-row__meta",style:{fontSize:"10px"}},a.font.family," \u2014 ",a.font.style," \xB7 ",a.fontSize,"px \xB7 LH: ",a.lineHeight.toFixed(1),"px"),o("div",{style:{fontSize:"10px",marginTop:"4px",color:"var(--color-text-secondary)",fontFamily:"monospace"}},"Top: -",a.topTrim.toFixed(2),"px \xB7 Bottom: -",a.bottomTrim.toFixed(2),"px")))))):o("div",{style:{padding:"16px",backgroundColor:"var(--color-bg-danger-subtle)"}},o("div",{style:{fontSize:"11px",color:"var(--color-text-danger)",fontWeight:600,marginBottom:"8px"}},"\u2717 Trimming failed"),e.errors.length>0&&o("ul",{style:{margin:"0",paddingLeft:"16px",fontSize:"11px"}},e.errors.map((a,c)=>o("li",{key:c},a))))),!e&&!r&&o("div",{class:"empty-state"},o("svg",{class:"empty-state__icon",viewBox:"0 0 64 64",fill:"none"},o("rect",{x:"16",y:"20",width:"32",height:"8",stroke:"currentColor","stroke-width":"2",opacity:"0.3"}),o("rect",{x:"16",y:"36",width:"32",height:"8",stroke:"currentColor","stroke-width":"2",opacity:"0.3"}),o("line",{x1:"12",y1:"24",x2:"52",y2:"24",stroke:"currentColor","stroke-width":"1","stroke-dasharray":"2,2",opacity:"0.5"}),o("line",{x1:"12",y1:"40",x2:"52",y2:"40",stroke:"currentColor","stroke-width":"1","stroke-dasharray":"2,2",opacity:"0.5"})),o("h3",{class:"empty-state__title"},"Ready to trim"),o("p",{class:"empty-state__description"},'Select text layers and click "Trim Selected Text" to fix line height spacing')))}var ot=F(()=>{"use strict";A();B();O()});function rt(){let[e,t]=y(null),[r,n]=y(!1),[s,a]=y(null),c=k(()=>{n(!0),z("SCAN_LINE_HEIGHTS")},[]),d=k((p,l)=>{a(p),z("FIX_LINE_HEIGHT",{nodeId:p,newLineHeight:l})},[]);return R(()=>{let p=I("LINE_HEIGHT_SCAN_COMPLETE",l=>{t(l),n(!1),a(null)});return()=>{p()}},[]),o("div",null,o("div",{style:{padding:"16px",borderBottom:"1px solid var(--color-border)"}},o("h3",{style:{margin:"0 0 8px 0",fontSize:"13px",fontWeight:600}},"Line Height Overlap Detection"),o("p",{style:{margin:"0",fontSize:"11px",color:"var(--color-text-secondary)",lineHeight:"1.5"}},"Detect and fix tight line heights that cause selection highlight overlap (darker blue lines between rows).")),o("div",{style:{padding:"16px"}},o("button",{class:"btn btn--primary",onClick:c,disabled:r,style:{width:"100%"}},r?"Scanning...":"Scan Line Heights"),o("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"var(--color-bg-subtle)",borderRadius:"4px",fontSize:"11px",lineHeight:"1.5"}},o("div",{style:{fontWeight:600,marginBottom:"4px"}},"How it works:"),o("ol",{style:{margin:"0",paddingLeft:"16px"}},o("li",null,"Scans selected text layers for tight line heights"),o("li",null,"Detects line height ratios below 1.5 (causes overlap)"),o("li",null,"Recommends proper line height to prevent overlap"),o("li",null,'Click "Fix" to automatically apply the correction')))),e&&o("div",{style:{borderTop:"1px solid var(--color-border)"}},e.issuesFound>0?o("div",null,o("div",{style:{padding:"16px",backgroundColor:"var(--color-bg-warning-subtle)"}},o("div",{style:{fontSize:"11px",color:"var(--color-text-warning)",fontWeight:600}},"\u26A0 Found ",e.issuesFound," text layer",e.issuesFound!==1?"s":""," with tight line height"),o("div",{style:{fontSize:"10px",color:"var(--color-text-secondary)",marginTop:"4px"}},"These may cause selection highlight overlap (darker blue lines between rows)")),e.textLayers.length>0&&o("div",{class:"card-list",style:{maxHeight:"300px",overflowY:"auto"}},e.textLayers.map(p=>o("div",{key:p.nodeId,class:"card-row",style:{backgroundColor:p.hasIssue?"var(--color-bg-warning-subtle)":"var(--color-bg-success-subtle)"}},o("div",{class:"card-row__content"},o("div",{class:"card-row__title",style:{fontSize:"12px"}},p.hasIssue?o("span",{style:{color:"var(--color-text-warning)",marginRight:"4px"}},"\u26A0"):o("span",{style:{color:"var(--color-text-success)",marginRight:"4px"}},"\u2713"),p.nodeName),o("div",{class:"card-row__meta",style:{fontSize:"10px"}},p.fontFamily," \u2014 ",p.fontStyle," \xB7 ",p.fontSize,"px \xB7 LH: ",p.lineHeight.toFixed(1),"px",o("span",{style:{color:p.hasIssue?"var(--color-text-warning)":"var(--color-text-success)",marginLeft:"4px"}},"(Ratio: ",p.lineHeightRatio.toFixed(2),")")),p.hasIssue&&p.recommendedLineHeight&&o("div",{style:{fontSize:"10px",marginTop:"8px",padding:"8px",backgroundColor:"var(--color-bg-warning)",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"}},o("div",{style:{color:"var(--color-text)"}},o("div",{style:{fontWeight:600,marginBottom:"2px"}},"Recommended: ",p.recommendedLineHeight,"px"),o("div",{style:{fontSize:"9px",color:"var(--color-text-secondary)"}},"Prevents selection overlap (+",p.overlapAmount,"px needed)")),o("button",{class:"btn btn--secondary",onClick:()=>d(p.nodeId,p.recommendedLineHeight),disabled:s===p.nodeId,style:{marginLeft:"8px",padding:"4px 8px",fontSize:"10px",minHeight:"auto"}},s===p.nodeId?"Fixing...":"Fix")),!p.hasIssue&&o("div",{style:{fontSize:"10px",marginTop:"4px",color:"var(--color-text-success)"}},"\u2713 Line height is properly spaced")))))):o("div",{style:{padding:"16px",backgroundColor:"var(--color-bg-success-subtle)"}},o("div",{style:{fontSize:"11px",color:"var(--color-text-success)",fontWeight:600,marginBottom:"8px"}},"\u2713 All line heights look good!"),o("div",{style:{fontSize:"10px",color:"var(--color-text-secondary)"}},"No tight line heights detected. All text layers have proper spacing to prevent selection highlight overlap."))),!e&&!r&&o("div",{class:"empty-state"},o("svg",{class:"empty-state__icon",viewBox:"0 0 64 64",fill:"none"},o("rect",{x:"16",y:"16",width:"32",height:"4",fill:"currentColor",opacity:"0.3"}),o("rect",{x:"16",y:"28",width:"32",height:"4",fill:"currentColor",opacity:"0.3"}),o("rect",{x:"16",y:"40",width:"32",height:"4",fill:"currentColor",opacity:"0.3"}),o("line",{x1:"12",y1:"20",x2:"12",y2:"28",stroke:"currentColor","stroke-width":"1",opacity:"0.5","stroke-dasharray":"2,2"}),o("line",{x1:"12",y1:"32",x2:"12",y2:"40",stroke:"currentColor","stroke-width":"1",opacity:"0.5","stroke-dasharray":"2,2"}),o("text",{x:"10",y:"26","font-size":"8",fill:"currentColor",opacity:"0.5","text-anchor":"end"},"LH")),o("h3",{class:"empty-state__title"},"Ready to scan"),o("p",{class:"empty-state__description"},'Select text layers and click "Scan Line Heights" to detect overlap issues')))}var nt=F(()=>{"use strict";A();B();O()});var at=F(()=>{if(document.getElementById("f240388a61")===null){let e=document.createElement("style");e.id="f240388a61",e.textContent=`:root{--space-050:2px;--space-100:4px;--space-200:8px;--space-300:12px;--space-400:16px;--space-500:20px;--space-600:24px;--space-800:32px;--space-1000:40px;--radius-sm:4px;--radius-md:6px;--radius-lg:8px;--color-bg-surface:#2c2c2c;--color-bg-surface-raised:#353535;--color-bg-surface-hover:#3d3d3d;--color-bg-input:#2e2e2e;--color-bg-input-hover:#333;--color-border-subtle:hsla(0,0%,100%,.06);--color-border:hsla(0,0%,100%,.08);--color-border-strong:hsla(0,0%,100%,.12);--color-border-focus:#2b8af7;--color-text:#ececec;--color-text-secondary:#b5b5b5;--color-text-subdued:#8a8a8a;--color-text-inverse:#fff;--color-interactive:#2b8af7;--color-interactive-hover:#1e7ce6;--color-interactive-active:#1670d5;--color-interactive-disabled:rgba(43,138,247,.4);--font-size-75:11px;--font-size-100:12px;--font-size-200:13px;--font-size-300:14px;--font-size-400:16px;--font-size-500:18px;--font-weight-regular:400;--font-weight-medium:500;--font-weight-semibold:600;--font-weight-bold:700;--line-height-tight:1.25;--line-height-base:1.5;--line-height-relaxed:1.6;--height-input:32px;--height-button:32px;--height-button-sm:28px;--height-header:48px;--shadow-sm:0 1px 3px rgba(0,0,0,.1);--shadow-md:0 2px 6px rgba(0,0,0,.15);--shadow-lg:0 4px 12px rgba(0,0,0,.2);--shadow-xl:0 8px 24px rgba(0,0,0,.3);--transition-fast:0.1s ease;--transition-base:0.15s ease;--transition-slow:0.2s ease}*{box-sizing:border-box;margin:0;padding:0}body,html{background:var(--color-bg-surface);height:100%;overflow:hidden;width:100%}body{color:var(--color-text);font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,sans-serif;font-size:var(--font-size-200);font-weight:var(--font-weight-regular);line-height:var(--line-height-base);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.container{flex-direction:column;height:100vh;width:100%}.container,.header{background:var(--color-bg-surface);display:flex}.header{align-items:center;border-bottom:1px solid var(--color-border);flex-shrink:0;height:var(--height-header);justify-content:space-between;padding:0 var(--space-400)}.header__title{align-items:center;color:var(--color-text);display:flex;font-size:var(--font-size-200);font-weight:var(--font-weight-semibold);gap:var(--space-200);letter-spacing:-.01em}.header__icon{color:var(--color-interactive);flex-shrink:0;height:16px;width:16px}.header__scan-btn{align-items:center;background:var(--color-interactive);border:none;border-radius:var(--radius-md);color:var(--color-text-inverse);cursor:pointer;display:inline-flex;font-size:var(--font-size-100);font-weight:var(--font-weight-medium);gap:var(--space-100);height:var(--height-button-sm);justify-content:center;padding:0 var(--space-300);transition:background var(--transition-base);white-space:nowrap}.header__scan-btn:hover:not(:disabled){background:var(--color-interactive-hover)}.header__scan-btn:active:not(:disabled){background:var(--color-interactive-active)}.header__scan-btn:disabled{cursor:not-allowed;opacity:.6}.header__scan-icon{flex-shrink:0;height:14px;width:14px}.header__scan-icon--spinning{animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.tabs{background:var(--color-bg-surface);border-bottom:1px solid var(--color-border);display:flex;flex-shrink:0;gap:var(--space-500);padding:0 var(--space-400)}.tab{background:transparent;border:none;border-bottom:2px solid transparent;color:var(--color-text-secondary);cursor:pointer;font-size:var(--font-size-200);font-weight:var(--font-weight-medium);letter-spacing:-.01em;margin-bottom:-1px;padding:var(--space-300) 0;position:relative;transition:color var(--transition-slow)}.tab:hover{color:var(--color-text)}.tab--active{border-bottom-color:var(--color-interactive);color:var(--color-interactive);font-weight:var(--font-weight-semibold)}.content{flex:1;overflow-x:hidden;overflow-y:auto;padding:var(--space-400)}.welcome{align-items:center;display:flex;flex-direction:column;padding:var(--spacing-4) 0;text-align:center}.welcome__icon{color:var(--accent-primary);margin-bottom:var(--spacing-3)}.welcome__title{color:var(--text-primary);font-size:14px;font-weight:600;margin-bottom:var(--spacing-2)}.welcome__description{color:var(--text-secondary);font-size:12px;line-height:1.5;margin-bottom:var(--spacing-4);max-width:280px}.welcome__button{max-width:280px;width:100%}.status{color:var(--text-muted);font-size:12px;margin-top:var(--spacing-4)}.search-box{margin-bottom:var(--space-400);position:relative}.search-box__icon{color:var(--color-text-subdued);height:14px;left:var(--space-300);pointer-events:none;position:absolute;top:50%;transform:translateY(-50%);width:14px}.search-box__input{background:var(--color-bg-input);border:1px solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text);font-size:var(--font-size-200);font-weight:var(--font-weight-regular);height:var(--height-input);padding:0 var(--space-300) 0 36px;transition:all var(--transition-base);width:100%}.search-box__input:hover{background:var(--color-bg-input-hover);border-color:var(--color-border-strong)}.search-box__input:focus{background:var(--color-bg-surface-raised);border-color:var(--color-border-focus);box-shadow:0 0 0 1px var(--color-border-focus);outline:none}.search-box__input::placeholder{color:var(--color-text-subdued)}.card-list{display:flex;flex-direction:column;gap:var(--space-200)}.card-row{align-items:center;background:var(--color-bg-surface-raised);border:1px solid var(--color-border-subtle);border-radius:var(--radius-md);cursor:pointer;display:flex;gap:var(--space-300);padding:var(--space-300);transition:all var(--transition-base)}.card-row:hover{background:var(--color-bg-surface-hover);border-color:var(--color-border);box-shadow:var(--shadow-sm)}.card-row__preview{align-items:center;background:var(--color-bg-surface);border:1px solid var(--color-border-subtle);border-radius:var(--radius-md);color:var(--color-text-secondary);display:flex;flex-shrink:0;font-size:var(--font-size-400);font-weight:var(--font-weight-semibold);height:40px;justify-content:center;width:40px}.card-row__content{flex:1;min-width:0}.card-row__title{color:var(--color-text);font-size:var(--font-size-200);font-weight:var(--font-weight-medium);letter-spacing:-.01em;line-height:var(--line-height-tight);margin-bottom:var(--space-050);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.card-row__meta{line-height:var(--line-height-tight)}.card-row__badge,.card-row__meta{color:var(--color-text-secondary);font-size:var(--font-size-75)}.card-row__badge{align-items:center;background:var(--color-bg-surface);border:1px solid var(--color-border);border-radius:var(--radius-sm);display:inline-flex;flex-shrink:0;font-weight:var(--font-weight-semibold);height:20px;justify-content:center;min-width:24px;padding:0 var(--space-200)}.card-row__actions{display:flex;flex-shrink:0;gap:var(--space-200)}.btn{align-items:center;border:none;border-radius:var(--radius-md);cursor:pointer;display:inline-flex;font-size:var(--font-size-200);font-weight:var(--font-weight-medium);gap:var(--space-100);height:var(--height-button);justify-content:center;letter-spacing:-.01em;padding:0 var(--space-400);transition:all var(--transition-base);white-space:nowrap}.btn:disabled{cursor:not-allowed;opacity:.5}.btn--primary{background:var(--color-interactive);box-shadow:var(--shadow-sm);color:var(--color-text-inverse)}.btn--primary:hover:not(:disabled){background:var(--color-interactive-hover);box-shadow:var(--shadow-md)}.btn--primary:active:not(:disabled){background:var(--color-interactive-active);box-shadow:none}.btn--ghost{background:transparent;border:1px solid var(--color-border);color:var(--color-text)}.btn--ghost:hover:not(:disabled){background:var(--color-bg-surface-hover);border-color:var(--color-border-strong)}.btn--ghost:active:not(:disabled){background:var(--color-bg-surface-raised)}.btn--small{font-size:var(--font-size-100);height:var(--height-button-sm);padding:0 var(--space-300)}.group-controls{margin-bottom:var(--space-400)}.group-controls__label{color:var(--color-text-secondary);display:block;font-size:var(--font-size-75);font-weight:var(--font-weight-semibold);letter-spacing:.5px;margin-bottom:var(--space-200);text-transform:uppercase}.group-controls__select{background:var(--color-bg-input);border:1px solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text);cursor:pointer;font-size:var(--font-size-200);font-weight:var(--font-weight-regular);height:var(--height-input);padding:0 var(--space-300);transition:all var(--transition-base);width:100%}.group-controls__select:hover{background-color:var(--color-bg-input-hover);border-color:var(--color-border-strong)}.group-controls__select:focus{background-color:var(--color-bg-surface-raised);border-color:var(--color-border-focus);box-shadow:0 0 0 1px var(--color-border-focus);outline:none}.group-controls__select{appearance:none;-webkit-appearance:none;-moz-appearance:none;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath stroke='%23b5b5b5' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m1 1 4 4 4-4'/%3E%3C/svg%3E");background-position:right var(--space-300) center;background-repeat:no-repeat;padding-right:var(--space-800)}.group-item{background:var(--color-bg-surface-raised);border:1px solid var(--color-border-subtle);border-radius:var(--radius-md);margin-bottom:var(--space-200);overflow:hidden}.group-item__header{align-items:center;cursor:pointer;display:flex;justify-content:space-between;padding:var(--space-300);transition:background var(--transition-base)}.group-item__header:hover{background:var(--color-bg-surface-hover)}.group-item__title{color:var(--color-text);font-size:var(--font-size-200);font-weight:var(--font-weight-medium);letter-spacing:-.01em}.group-item__actions{align-items:center;display:flex;gap:var(--space-200)}.group-item__content{background:var(--color-bg-surface);border-top:1px solid var(--color-border);display:none;padding:var(--space-400)}.group-item--expanded .group-item__content{display:block}.group-occurrence{border-bottom:1px solid var(--color-border-subtle);padding:var(--space-200) 0}.group-occurrence:last-child{border-bottom:none}.group-occurrence__title{color:var(--color-text);font-size:var(--font-size-100);font-weight:var(--font-weight-medium);line-height:var(--line-height-tight);margin-bottom:var(--space-050)}.group-occurrence__meta{color:var(--color-text-secondary);font-size:var(--font-size-75);line-height:var(--line-height-tight)}.group-item__update{background:var(--color-bg-surface-hover);border-top:1px solid var(--color-border);padding:var(--space-400)}.inline-update{align-items:center;display:flex;gap:var(--space-200)}.inline-update__label{color:var(--color-text-secondary);font-size:var(--font-size-100);font-weight:var(--font-weight-medium);white-space:nowrap}.inline-update__input,.inline-update__select{background:var(--color-bg-input);border:1px solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text);flex:1;font-size:var(--font-size-200);font-weight:var(--font-weight-regular);height:var(--height-button-sm);min-width:100px;padding:0 var(--space-300);transition:all var(--transition-base)}.inline-update__input:hover,.inline-update__select:hover{background-color:var(--color-bg-input-hover);border-color:var(--color-border-strong)}.inline-update__input:focus,.inline-update__select:focus{background-color:var(--color-bg-surface-raised);border-color:var(--color-border-focus);box-shadow:0 0 0 1px var(--color-border-focus);outline:none}.inline-update__select{appearance:none;-webkit-appearance:none;-moz-appearance:none;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath stroke='%23b5b5b5' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m1 1 4 4 4-4'/%3E%3C/svg%3E");background-position:right var(--space-300) center;background-repeat:no-repeat;padding-right:var(--space-800)}.inline-update__input[type=number]::-webkit-inner-spin-button,.inline-update__input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.inline-update__input[type=number]{-moz-appearance:textfield;appearance:textfield}.modal-overlay{align-items:center;animation:fadeIn .2s ease;backdrop-filter:blur(2px);background:rgba(0,0,0,.75);display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:1000}.modal{animation:slideUp .2s ease;background:var(--color-bg-surface);border:1px solid var(--color-border-strong);border-radius:var(--radius-lg);box-shadow:var(--shadow-xl);max-width:400px;width:90%}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(16px) scale(.96)}to{opacity:1;transform:translateY(0) scale(1)}}.modal__header{border-bottom:1px solid var(--color-border);padding:var(--space-400)}.modal__title{color:var(--color-text);font-size:var(--font-size-300);font-weight:var(--font-weight-semibold);letter-spacing:-.01em;line-height:var(--line-height-tight);margin-bottom:var(--space-100)}.modal__subtitle{color:var(--color-text-secondary);font-size:var(--font-size-100);line-height:var(--line-height-base)}.modal__body{max-height:60vh;overflow-y:auto;padding:var(--space-400)}.modal__footer{background:var(--color-bg-surface);border-top:1px solid var(--color-border);display:flex;gap:var(--space-200);justify-content:flex-end;padding:var(--space-400)}.form-group{margin-bottom:var(--space-400)}.form-group:last-child{margin-bottom:0}.form-label{color:var(--color-text-secondary);display:block;font-size:var(--font-size-75);font-weight:var(--font-weight-semibold);letter-spacing:.5px;margin-bottom:var(--space-200);text-transform:uppercase}.form-input,.form-select{background:var(--color-bg-input);border:1px solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text);font-size:var(--font-size-200);font-weight:var(--font-weight-regular);height:var(--height-input);padding:0 var(--space-300);transition:all var(--transition-base);width:100%}.form-input:hover,.form-select:hover{background-color:var(--color-bg-input-hover);border-color:var(--color-border-strong)}.form-input:focus,.form-select:focus{background-color:var(--color-bg-surface-raised);border-color:var(--color-border-focus);box-shadow:0 0 0 1px var(--color-border-focus);outline:none}.form-input::placeholder{color:var(--color-text-subdued)}.form-input[type=number]::-webkit-inner-spin-button,.form-input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.form-input[type=number]{-moz-appearance:textfield;appearance:textfield}.form-select{appearance:none;-webkit-appearance:none;-moz-appearance:none;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' fill='none' viewBox='0 0 10 6'%3E%3Cpath stroke='%23b5b5b5' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m1 1 4 4 4-4'/%3E%3C/svg%3E");background-position:right var(--space-300) center;background-repeat:no-repeat;cursor:pointer;padding-right:var(--space-800)}.form-preview{align-items:center;background:var(--bg-card);border:1px solid var(--border-subtle);border-radius:var(--radius-sm);display:flex;gap:var(--spacing-3);padding:var(--spacing-3)}.form-preview__icon{align-items:center;background:var(--bg-panel);border-radius:var(--radius-sm);color:var(--text-secondary);display:flex;font-size:16px;font-weight:600;height:32px;justify-content:center;width:32px}.form-preview__text{color:var(--text-primary);font-size:14px}.form-info{align-items:flex-start;background:rgba(43,138,247,.1);border:1px solid rgba(43,138,247,.2);border-radius:var(--radius-sm);display:flex;gap:var(--spacing-2);padding:var(--spacing-3)}.form-info__icon{color:var(--accent-primary);flex-shrink:0;height:16px;margin-top:2px;width:16px}.form-info__text{color:var(--text-primary);font-size:13px;line-height:1.5}.form-checkbox{align-items:center;cursor:pointer;display:flex;gap:var(--space-200);margin-bottom:var(--space-300);user-select:none}.form-checkbox input[type=checkbox]{accent-color:var(--color-interactive);cursor:pointer;flex-shrink:0;height:16px;margin:0;width:16px}.form-checkbox__label{color:var(--color-text);font-size:var(--font-size-200);font-weight:var(--font-weight-medium);line-height:var(--line-height-base)}.footer{align-items:center;background:var(--bg-panel);border-top:1px solid var(--border-subtle);display:flex;flex-shrink:0;height:var(--footer-height);justify-content:space-between;padding:0 var(--spacing-5)}.footer__status{color:var(--text-secondary);font-size:13px}.footer__actions{display:flex;gap:var(--spacing-2)}.toast{align-items:center;animation:slideUpToast .3s;background:var(--bg-card);border:1px solid var(--border-medium);border-radius:var(--radius);bottom:var(--spacing-5);box-shadow:0 4px 16px rgba(0,0,0,.3);display:flex;gap:var(--spacing-3);left:50%;padding:var(--spacing-3) var(--spacing-4);position:fixed;transform:translateX(-50%);z-index:2000}@keyframes slideUpToast{0%{opacity:0;transform:translateX(-50%) translateY(20px)}to{opacity:1;transform:translateX(-50%) translateY(0)}}.toast__message{color:var(--text-primary);font-size:14px}.toast__undo{background:none;border:none;color:var(--accent-primary);cursor:pointer;font-size:13px;font-weight:500;padding:0;transition:color .2s}.toast__undo:hover{color:var(--accent-hover)}.progress-bar{background:var(--bg-input);border-radius:2px;height:4px;margin-top:var(--spacing-3);overflow:hidden;width:100%}.progress-bar__fill{background:var(--accent-primary);border-radius:2px;height:100%;transition:width .3s}.progress-text{color:var(--text-secondary);font-size:12px;margin-top:var(--spacing-2);text-align:center}.empty-state{align-items:center;display:flex;flex-direction:column;justify-content:center;min-height:240px;padding:var(--space-800) var(--space-400);text-align:center}.empty-state__icon{color:var(--color-text-subdued);height:56px;margin-bottom:var(--space-400);opacity:.6;width:56px}.empty-state__title{color:var(--color-text-secondary);font-size:var(--font-size-300);font-weight:var(--font-weight-semibold);line-height:var(--line-height-tight);margin-bottom:var(--space-200)}.empty-state__description{color:var(--color-text-subdued);font-size:var(--font-size-200);line-height:var(--line-height-base);max-width:280px}.mt-1{margin-top:var(--space-100)}.mt-2{margin-top:var(--space-200)}.mt-3{margin-top:var(--space-300)}.mt-4{margin-top:var(--space-400)}.mb-1{margin-bottom:var(--space-100)}.mb-2{margin-bottom:var(--space-200)}.mb-3{margin-bottom:var(--space-300)}.mb-4{margin-bottom:var(--space-400)}.combobox{width:100%}.combobox,.combobox__input-wrapper{position:relative}.combobox__input{background:var(--color-bg-input);border:1px solid var(--color-border);border-radius:var(--radius-md);color:var(--color-text);cursor:pointer;font-size:var(--font-size-200);font-weight:var(--font-weight-regular);height:var(--height-input);padding:0 var(--space-300);transition:all var(--transition-base);width:100%}.combobox__input:hover{background:var(--color-bg-input-hover);border-color:var(--color-border-strong)}.combobox__input:focus{background:var(--color-bg-surface-raised);border-color:var(--color-border-focus);box-shadow:0 0 0 1px var(--color-border-focus);outline:none}.combobox__input::placeholder{color:var(--color-text-subdued)}.combobox__dropdown{animation:slideDown .15s ease;background:var(--color-bg-surface-raised);border:1px solid var(--color-border-strong);border-radius:var(--radius-md);box-shadow:var(--shadow-lg);left:0;max-height:240px;overflow-y:auto;position:absolute;right:0;top:calc(100% + var(--space-100));z-index:100}@keyframes slideDown{0%{opacity:0;transform:translateY(-4px)}to{opacity:1;transform:translateY(0)}}.combobox__option{border-bottom:1px solid var(--color-border-subtle);color:var(--color-text);cursor:pointer;font-size:var(--font-size-200);padding:var(--space-200) var(--space-300);transition:background var(--transition-fast)}.combobox__option:last-child{border-bottom:none}.combobox__option--selected,.combobox__option:hover{background:var(--color-bg-surface-hover)}.combobox__option--selected{font-weight:var(--font-weight-medium)}.combobox__option--highlighted{background:var(--color-bg-surface-hover)}.combobox__empty{color:var(--color-text-subdued);font-size:var(--font-size-200);padding:var(--space-400) var(--space-300);text-align:center}`,document.head.append(e)}});var st={};_t(st,{default:()=>Ht});function it(){let[e,t]=y("fonts"),[r,n]=y(null),[s,a]=y([]),[c,d]=y(!1),p=k(()=>{d(!0),z("SCAN_FONTS")},[]);return R(()=>{let l=I("FONTS_SCANNED",v=>{n(v),d(!1),v.fonts.length>0&&t("fonts")}),_=I("AVAILABLE_FONTS",v=>{a(v)}),i=I("REPLACEMENT_COMPLETE",()=>{z("SCAN_FONTS")});return()=>{l(),_(),i()}},[]),o("div",{class:"container"},o("header",{class:"header"},o("div",{class:"header__title"},o("svg",{class:"header__icon",viewBox:"0 0 20 20",fill:"none"},o("path",{d:"M3 5H17M3 10H17M3 15H12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})),"Font Toolkit"),o("button",{class:c?"header__scan-btn header__scan-btn--scanning":"header__scan-btn",onClick:p,disabled:c},c?o(U,null,o("svg",{class:"header__scan-icon header__scan-icon--spinning",viewBox:"0 0 16 16",fill:"none"},o("circle",{cx:"8",cy:"8",r:"6",stroke:"currentColor","stroke-width":"2","stroke-dasharray":"30 8"})),"Scanning..."):o(U,null,o("svg",{class:"header__scan-icon",viewBox:"0 0 16 16",fill:"none"},o("path",{d:"M8 2L8 14M2 8L14 8",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round"})),"Scan"))),o("nav",{class:"tabs"},o("button",{class:e==="fonts"?"tab tab--active":"tab",onClick:()=>t("fonts")},"Fonts"),o("button",{class:e==="groups"?"tab tab--active":"tab",onClick:()=>t("groups")},"Groups"),o("button",{class:e==="lineheight"?"tab tab--active":"tab",onClick:()=>t("lineheight"),title:"Line Height Overlap Detection"},"LH"),o("button",{class:e==="trim"?"tab tab--active":"tab",onClick:()=>t("trim")},"Trim")),o("main",{class:"content"},e==="fonts"&&o(Ke,{scanResult:r,availableFonts:s}),e==="groups"&&o(Ze,{scanResult:r}),e==="lineheight"&&o(rt,null),e==="trim"&&o(tt,null)))}function Ht(){let e=document.getElementById("root");if(e)ue(o(it,null),e);else{let t=document.createElement("div");t.id="root",document.body.appendChild(t),ue(o(it,null),t)}}var lt=F(()=>{"use strict";A();B();O();Je();et();ot();nt();at()});var Tt=document.getElementById("create-figma-plugin"),ct={"src/main.ts--default":(lt(),vt(st)).default},be=__FIGMA_COMMAND__===""?"src/main.ts--default":__FIGMA_COMMAND__;if(typeof ct[be]>"u")throw new Error("No UI defined for command `"+be+"`");ct[be](Tt,__SHOW_UI_DATA__);})();
