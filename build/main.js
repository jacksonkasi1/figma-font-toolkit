var M=Object.defineProperty,qi=Object.defineProperties,Ki=Object.getOwnPropertyDescriptor,Qi=Object.getOwnPropertyDescriptors,Zi=Object.getOwnPropertyNames,J=Object.getOwnPropertySymbols;var te=Object.prototype.hasOwnProperty,Yi=Object.prototype.propertyIsEnumerable;var ee=(t,e,i)=>e in t?M(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,O=(t,e)=>{for(var i in e||(e={}))te.call(e,i)&&ee(t,i,e[i]);if(J)for(var i of J(e))Yi.call(e,i)&&ee(t,i,e[i]);return t},R=(t,e)=>qi(t,Qi(e));var a=(t,e)=>()=>(t&&(e=t(t=0)),e);var Ji=(t,e)=>{for(var i in e)M(t,i,{get:e[i],enumerable:!0})},en=(t,e,i,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Zi(e))!te.call(t,n)&&n!==i&&M(t,n,{get:()=>e[n],enumerable:!(r=Ki(e,n))||r.enumerable});return t};var ie=t=>en(M({},"__esModule",{value:!0}),t);function x(t,e){let i=`${ne}`;return ne+=1,b[i]={handler:e,name:t},function(){delete b[i]}}function C(t,e){let i=!1;return x(t,function(...r){i!==!0&&(i=!0,e(...r))})}function re(t,e){let i=!1;for(let r in b)b[r].name===t&&(b[r].handler.apply(null,e),i=!0);if(i===!1)throw new Error(`No event handler with name \`${t}\``)}var b,ne,u,ae=a(()=>{b={},ne=0;u=typeof window=="undefined"?function(t,...e){figma.ui.postMessage([t,...e])}:function(t,...e){window.parent.postMessage({pluginMessage:[t,...e]},"*")};typeof window=="undefined"?figma.ui.onmessage=function(t){if(!Array.isArray(t))return;let[e,...i]=t;typeof e=="string"&&re(e,i)}:window.onmessage=function(t){if(typeof t.data.pluginMessage=="undefined")return;let e=t.data.pluginMessage;if(!Array.isArray(e))return;let[i,...r]=t.data.pluginMessage;typeof i=="string"&&re(i,r)}});function G(t,e){if(typeof __html__=="undefined")throw new Error("No UI defined");let i=`<div id="create-figma-plugin"></div><script>document.body.classList.add('theme-${figma.editorType}');const __FIGMA_COMMAND__='${typeof figma.command=="undefined"?"":figma.command}';const __SHOW_UI_DATA__=${JSON.stringify(typeof e=="undefined"?{}:e)};${__html__}</script>`;figma.showUI(i,R(O({},t),{themeColors:typeof t.themeColors=="undefined"?!0:t.themeColors}))}var oe=a(()=>{});var A=a(()=>{ae();oe()});function tn(t,e){return t.family===e.family&&t.style===e.style}function se(t){return`${t.family}||${t.style}`}function ce(t){let e={Thin:"100","Extra Light":"200",Light:"300",Regular:"400",Medium:"500","Semi Bold":"600",Bold:"700","Extra Bold":"800",Black:"900"},i=t.match(/\d{3}/);if(i)return i[0];for(let[r,n]of Object.entries(e))if(t.includes(r))return n;return t}function le(t,e,i){let r;e!==void 0&&i!==void 0?r=t.getRangeLineHeight(e,i):r=t.lineHeight,r===figma.mixed&&(r=t.getRangeLineHeight(0,1));let n=r;if(n.unit==="PIXELS"&&"value"in n)return n.value;if(n.unit==="PERCENT"&&"value"in n){let s=e!==void 0&&i!==void 0?t.getRangeFontSize(e,i):t.fontSize;return(s===figma.mixed?16:s)*n.value/100}else{let s=e!==void 0&&i!==void 0?t.getRangeFontSize(e,i):t.fontSize;return(s===figma.mixed?16:s)*1.2}}function W(t){let e=[];function i(n){let s=n.characters.length;if(s!==0)try{let o=n.fontName;if(o!==figma.mixed){let c=o,l=n.fontSize;e.push({nodeId:n.id,nodeName:n.name,rangeStart:0,rangeEnd:s,font:{family:c.family,style:c.style},fontSize:l,lineHeightPx:le(n),fontWeight:ce(c.style)})}else{let c=0;for(;c<s;){let l=n.getRangeFontName(c,c+1),f=n.getRangeFontSize(c,c+1),g=c+1;for(;g<s;){let m=n.getRangeFontName(g,g+1),d=n.getRangeFontSize(g,g+1);if(!tn(l,m)||f!==d)break;g++}e.push({nodeId:n.id,nodeName:n.name,rangeStart:c,rangeEnd:g,font:{family:l.family,style:l.style},fontSize:f,lineHeightPx:le(n,c,g),fontWeight:ce(l.style)}),c=g}}}catch(o){console.warn(`Failed to process text node ${n.id}:`,o)}}function r(n){if(n.type==="TEXT")i(n);else if("children"in n)for(let s of n.children)r(s)}for(let n of t)r(n);return e}function T(t){let e=new Map;for(let i of t){let r=se(i.font),n=e.get(r);if(!n){let s=new Set,o=[];for(let c of t)se(c.font)===r&&(o.push(c),s.add(c.nodeId));n={font:i.font,count:o.length,nodesCount:s.size,occurrences:o},e.set(r,n)}}return Array.from(e.values()).sort((i,r)=>r.count-i.count)}function nn(t){let e=new Map;for(let i of t){let r=Math.round(i.lineHeightPx).toString(),n=e.get(r)||[];n.push(i),e.set(r,n)}return Array.from(e.entries()).map(([i,r])=>({key:`lineHeight:${i}`,label:`Line Height: ${i}px`,occurrences:r,count:r.length}))}function rn(t){let e=new Map;for(let i of t){let r=Math.round(i.fontSize).toString(),n=e.get(r)||[];n.push(i),e.set(r,n)}return Array.from(e.entries()).map(([i,r])=>({key:`fontSize:${i}`,label:`Font Size: ${i}px`,occurrences:r,count:r.length}))}function an(t){let e=new Map;for(let i of t){let r=i.fontWeight,n=e.get(r)||[];n.push(i),e.set(r,n)}return Array.from(e.entries()).map(([i,r])=>({key:`fontWeight:${i}`,label:`Weight: ${i}`,occurrences:r,count:r.length}))}function on(t){let e=new Map;for(let i of t){let r=i.font.family,n=e.get(r)||[];n.push(i),e.set(r,n)}return Array.from(e.entries()).map(([i,r])=>({key:`fontFamily:${i}`,label:`Family: ${i}`,occurrences:r,count:r.length}))}function P(t){return{lineHeight:nn(t),fontSize:rn(t),fontWeight:an(t),fontFamily:on(t)}}var $=a(()=>{"use strict"});var fe,me=a(()=>{"use strict";A();$();fe=async function(){let t=figma.currentPage.selection;if(t.length===0){figma.notify("Please select at least one layer",{error:!0}),u("FONTS_SCANNED",{fonts:[],groups:{lineHeight:[],fontSize:[],fontWeight:[],fontFamily:[]},totalNodes:0});return}let e=W(t);if(e.length===0){figma.notify("No text layers found in selection"),u("FONTS_SCANNED",{fonts:[],groups:{lineHeight:[],fontSize:[],fontWeight:[],fontFamily:[]},totalNodes:0});return}let i=T(e),r=P(e),n=new Set(e.map(s=>s.nodeId));u("FONTS_SCANNED",{fonts:i,groups:r,totalNodes:n.size}),figma.notify(`Found ${i.length} fonts in ${n.size} text layers`)}});var de,ue=a(()=>{"use strict";A();de=async function(t){let e={success:!1,affectedNodes:0,affectedRanges:0,errors:[]};try{await figma.loadFontAsync({family:t.newFont.family,style:t.newFont.style});let i=new Set;for(let r of t.occurrences)try{let n=figma.getNodeById(r.nodeId);if(!n||n.type!=="TEXT")continue;try{await figma.loadFontAsync({family:r.font.family,style:r.font.style})}catch(s){}if(n.setRangeFontName(r.rangeStart,r.rangeEnd,{family:t.newFont.family,style:t.newFont.style}),t.newLineHeight)try{n.setRangeLineHeight(r.rangeStart,r.rangeEnd,{value:t.newLineHeight,unit:"PIXELS"})}catch(s){n.lineHeight={value:t.newLineHeight,unit:"PIXELS"}}if(t.newFontSize)try{n.setRangeFontSize(r.rangeStart,r.rangeEnd,t.newFontSize)}catch(s){n.fontSize=t.newFontSize}e.affectedRanges++,i.add(n.id)}catch(n){e.errors.push(`Error updating node ${r.nodeId}: ${n}`)}e.affectedNodes=i.size,e.success=e.affectedRanges>0,e.success?figma.notify(`Updated ${e.affectedRanges} text ranges in ${e.affectedNodes} layers`):figma.notify("Failed to apply changes",{error:!0})}catch(i){e.errors.push(`Font loading failed: ${i}`),figma.notify("Failed to load font",{error:!0})}u("REPLACEMENT_COMPLETE",e)}});var ge,he=a(()=>{"use strict";A();$();ge=async function(t){let e=0,i=0,r=new Set,n=[];try{let s=async(o,c)=>{let f=(await figma.listAvailableFontsAsync()).filter(h=>h.fontName.family===o);if(f.length===0)return null;let m={100:["Thin","Hairline","100","100 Thin"],200:["Extra Light","ExtraLight","Ultra Light","UltraLight","200","200 Extra Light"],300:["Light","Lt","300","300 Light"],400:["Regular","Normal","Book","Rg","400","400 Regular"],500:["Medium","Md","500","500 Medium"],600:["Semi Bold","SemiBold","Demi Bold","DemiBold","600","600 Semi Bold"],700:["Bold","Bd","700","700 Bold"],800:["Extra Bold","ExtraBold","Ultra Bold","UltraBold","800","800 Extra Bold"],900:["Black","Heavy","Bk","900","900 Black"]}[c]||[];for(let h of m){let p=f.find(y=>y.fontName.style.toLowerCase()===h.toLowerCase());if(p)return p.fontName.style}for(let h of m){let p=f.find(y=>y.fontName.style.toLowerCase().includes(h.toLowerCase()));if(p)return p.fontName.style}let d=f.find(h=>h.fontName.style.toLowerCase()==="regular"||h.fontName.style.toLowerCase()==="normal"||h.fontName.style.toLowerCase()==="400");return d?d.fontName.style:f[0].fontName.style};for(let o of t.occurrences)try{let c=figma.getNodeById(o.nodeId);if(!c||c.type!=="TEXT")continue;try{await figma.loadFontAsync({family:o.font.family,style:o.font.style})}catch(l){n.push(`Failed to load font ${o.font.family} ${o.font.style}`);continue}if(t.groupType==="fontWeight"){let l=t.targetValue,f=await s(o.font.family,l);if(!f){n.push(`Could not find matching weight ${l} for ${o.font.family}`);continue}await figma.loadFontAsync({family:o.font.family,style:f}),c.setRangeFontName(o.rangeStart,o.rangeEnd,{family:o.font.family,style:f}),e++}else if(t.groupType==="lineHeight"){let l=t.targetValue;try{c.setRangeLineHeight(o.rangeStart,o.rangeEnd,{value:l,unit:"PIXELS"})}catch(f){c.lineHeight={value:l,unit:"PIXELS"}}e++}else if(t.groupType==="fontSize"){let l=t.targetValue;try{c.setRangeFontSize(o.rangeStart,o.rangeEnd,l)}catch(f){c.fontSize=l}e++}r.add(c.id)}catch(c){n.push(`Error updating node ${o.nodeId}: ${c}`)}i=r.size,e>0?(figma.notify(`Updated ${e} range${e===1?"":"s"} in ${i} layer${i===1?"":"s"}`),u("FONTS_SCANNED",{fonts:T(W(figma.currentPage.selection)),groups:P(W(figma.currentPage.selection)),totalNodes:r.size})):(figma.notify("No changes applied",{error:!0}),n.length>0&&console.error("Bulk update errors:",n))}catch(s){figma.notify(`Bulk update failed: ${s}`,{error:!0}),console.error("Bulk update error:",s)}}});var pe,xe=a(()=>{"use strict";A();pe=async function(){let t=await figma.listAvailableFontsAsync();u("AVAILABLE_FONTS",t)}});var ye,He=a(()=>{"use strict";ye=function(t){let e=new Set(t.map(r=>r.nodeId)),i=[];for(let r of Array.from(e)){let n=figma.getNodeById(r);n&&i.push(n)}i.length>0&&(figma.currentPage.selection=i,figma.viewport.scrollAndZoomIntoView(i))}});var Ae,ve=a(()=>{"use strict";Ae=function(t){let e=figma.getNodeById(t.nodeId);e&&(figma.currentPage.selection=[e],figma.viewport.scrollAndZoomIntoView([e]))}});var Ne,Se=a(()=>{Ne={familyName:"Arial",category:"sans-serif",capHeight:1467,ascent:1854,descent:-434,lineGap:67,unitsPerEm:2048,xHeight:1062,xWidthAvg:913,subsets:{latin:{xWidthAvg:913},thai:{xWidthAvg:1536}}}});var z,be=a(()=>{z={familyName:"Helvetica",category:"sans-serif",capHeight:1469,ascent:1577,descent:-471,lineGap:0,unitsPerEm:2048,xHeight:1071,xWidthAvg:913,subsets:{latin:{xWidthAvg:913},thai:{xWidthAvg:1298}}}});var We,Ee=a(()=>{We={familyName:"Roboto",category:"sans-serif",capHeight:1456,ascent:1900,descent:-500,lineGap:0,unitsPerEm:2048,xHeight:1082,xWidthAvg:911,subsets:{latin:{xWidthAvg:911},thai:{xWidthAvg:908}}}});var Fe,Me=a(()=>{Fe={familyName:"Inter",category:"sans-serif",capHeight:2048,ascent:2728,descent:-680,lineGap:0,unitsPerEm:2816,xHeight:1536,xWidthAvg:1344,subsets:{latin:{xWidthAvg:1344},thai:{xWidthAvg:2800}}}});var Te,Pe=a(()=>{Te={familyName:"Open Sans",category:"sans-serif",capHeight:1462,ascent:2189,descent:-600,lineGap:0,unitsPerEm:2048,xHeight:1096,xWidthAvg:960,subsets:{latin:{xWidthAvg:960},thai:{xWidthAvg:1229}}}});var Le,we=a(()=>{Le={familyName:"Montserrat",category:"sans-serif",capHeight:700,ascent:968,descent:-251,lineGap:0,unitsPerEm:1e3,xHeight:517,xWidthAvg:503,subsets:{latin:{xWidthAvg:503},thai:{xWidthAvg:587}}}});var Ie,Oe=a(()=>{Ie={familyName:"Lato",category:"sans-serif",capHeight:1433,ascent:1974,descent:-426,lineGap:0,unitsPerEm:2e3,xHeight:1013,xWidthAvg:871,subsets:{latin:{xWidthAvg:871},thai:{xWidthAvg:1063}}}});var Re,Ce=a(()=>{Re={familyName:"Poppins",category:"sans-serif",capHeight:698,ascent:1050,descent:-350,lineGap:100,unitsPerEm:1e3,xHeight:548,xWidthAvg:500,subsets:{latin:{xWidthAvg:500},thai:{xWidthAvg:500}}}});var Ge,$e=a(()=>{Ge={familyName:"Raleway",category:"sans-serif",capHeight:710,ascent:940,descent:-234,lineGap:0,unitsPerEm:1e3,xHeight:519,xWidthAvg:463,subsets:{latin:{xWidthAvg:463},thai:{xWidthAvg:608}}}});var B,ze=a(()=>{B={familyName:"Source Sans 3",category:"sans-serif",capHeight:660,ascent:1024,descent:-400,lineGap:0,unitsPerEm:1e3,xHeight:486,xWidthAvg:418,subsets:{latin:{xWidthAvg:418},thai:{xWidthAvg:653}}}});var Be,_e=a(()=>{Be={familyName:"Oswald",category:"sans-serif",capHeight:810,ascent:1193,descent:-289,lineGap:0,unitsPerEm:1e3,xHeight:578,xWidthAvg:363,subsets:{latin:{xWidthAvg:363},thai:{xWidthAvg:682}}}});var ke,Ue=a(()=>{ke={familyName:"Merriweather",category:"serif",capHeight:743,ascent:984,descent:-273,lineGap:0,unitsPerEm:1e3,xHeight:555,xWidthAvg:496,subsets:{latin:{xWidthAvg:496},thai:{xWidthAvg:864}}}});var De,je=a(()=>{De={familyName:"Playfair Display",category:"serif",capHeight:708,ascent:1082,descent:-251,lineGap:0,unitsPerEm:1e3,xHeight:514,xWidthAvg:452,subsets:{latin:{xWidthAvg:452},thai:{xWidthAvg:562}}}});var Ve,Xe=a(()=>{Ve={familyName:"Ubuntu",category:"sans-serif",capHeight:693,ascent:932,descent:-189,lineGap:28,unitsPerEm:1e3,xHeight:520,xWidthAvg:455,subsets:{latin:{xWidthAvg:455},thai:{xWidthAvg:500}}}});var qe,Ke=a(()=>{qe={familyName:"Rubik",category:"sans-serif",capHeight:700,ascent:935,descent:-250,lineGap:0,unitsPerEm:1e3,xHeight:520,xWidthAvg:468,subsets:{latin:{xWidthAvg:468},thai:{xWidthAvg:695}}}});var Qe,Ze=a(()=>{Qe={familyName:"Nunito",category:"sans-serif",capHeight:705,ascent:1011,descent:-353,lineGap:0,unitsPerEm:1e3,xHeight:484,xWidthAvg:452,subsets:{latin:{xWidthAvg:452},thai:{xWidthAvg:500}}}});var Ye,Je=a(()=>{Ye={familyName:"Noto Sans",category:"sans-serif",capHeight:714,ascent:1069,descent:-293,lineGap:0,unitsPerEm:1e3,xHeight:536,xWidthAvg:474,subsets:{latin:{xWidthAvg:474},thai:{xWidthAvg:600}}}});var et,tt=a(()=>{et={familyName:"PT Sans",category:"sans-serif",capHeight:700,ascent:1018,descent:-276,lineGap:0,unitsPerEm:1e3,xHeight:500,xWidthAvg:431,subsets:{latin:{xWidthAvg:431},thai:{xWidthAvg:750}}}});var it,nt=a(()=>{it={familyName:"PT Serif",category:"serif",capHeight:700,ascent:1039,descent:-286,lineGap:0,unitsPerEm:1e3,xHeight:500,xWidthAvg:448,subsets:{latin:{xWidthAvg:448},thai:{xWidthAvg:709}}}});var rt,at=a(()=>{rt={familyName:"Work Sans",category:"sans-serif",capHeight:660,ascent:930,descent:-243,lineGap:0,unitsPerEm:1e3,xHeight:500,xWidthAvg:499,subsets:{latin:{xWidthAvg:499},thai:{xWidthAvg:500}}}});var ot,st=a(()=>{ot={familyName:"Quicksand",category:"sans-serif",capHeight:700,ascent:1e3,descent:-250,lineGap:0,unitsPerEm:1e3,xHeight:503,xWidthAvg:465,subsets:{latin:{xWidthAvg:465},thai:{xWidthAvg:584}}}});var ct,lt=a(()=>{ct={familyName:"Fira Sans",category:"sans-serif",capHeight:689,ascent:935,descent:-265,lineGap:0,unitsPerEm:1e3,xHeight:527,xWidthAvg:458,subsets:{latin:{xWidthAvg:458},thai:{xWidthAvg:666}}}});var ft,mt=a(()=>{ft={familyName:"Barlow",category:"sans-serif",capHeight:700,ascent:1e3,descent:-200,lineGap:0,unitsPerEm:1e3,xHeight:506,xWidthAvg:431,subsets:{latin:{xWidthAvg:431},thai:{xWidthAvg:419}}}});var _,dt=a(()=>{_={familyName:"Mulish",category:"sans-serif",capHeight:705,ascent:1005,descent:-250,lineGap:0,unitsPerEm:1e3,xHeight:500,xWidthAvg:464,subsets:{latin:{xWidthAvg:464},thai:{xWidthAvg:500}}}});var ut,gt=a(()=>{ut={familyName:"Titillium Web",category:"sans-serif",capHeight:692,ascent:1133,descent:-388,lineGap:0,unitsPerEm:1e3,xHeight:500,xWidthAvg:421,subsets:{latin:{xWidthAvg:421},thai:{xWidthAvg:235}}}});var ht,pt=a(()=>{ht={familyName:"Kanit",category:"sans-serif",capHeight:644,ascent:1100,descent:-395,lineGap:0,unitsPerEm:1e3,xHeight:474,xWidthAvg:452,subsets:{latin:{xWidthAvg:452},thai:{xWidthAvg:550}}}});var xt,yt=a(()=>{xt={familyName:"DM Sans",category:"sans-serif",capHeight:700,ascent:992,descent:-310,lineGap:0,unitsPerEm:1e3,xHeight:504,xWidthAvg:466,subsets:{latin:{xWidthAvg:466},thai:{xWidthAvg:551}}}});var Ht,At=a(()=>{Ht={familyName:"Heebo",category:"sans-serif",capHeight:1456,ascent:2146,descent:-862,lineGap:0,unitsPerEm:2048,xHeight:1178,xWidthAvg:912,subsets:{latin:{xWidthAvg:912},thai:{xWidthAvg:1024}}}});var vt,Nt=a(()=>{vt={familyName:"IBM Plex Sans",category:"sans-serif",capHeight:698,ascent:1025,descent:-275,lineGap:0,unitsPerEm:1e3,xHeight:516,xWidthAvg:451,subsets:{latin:{xWidthAvg:451},thai:{xWidthAvg:472}}}});var St,bt=a(()=>{St={familyName:"Mukta",category:"sans-serif",capHeight:630,ascent:1130,descent:-532,lineGap:0,unitsPerEm:1e3,xHeight:468,xWidthAvg:420,subsets:{latin:{xWidthAvg:420},thai:{xWidthAvg:500}}}});var Wt,Et=a(()=>{Wt={familyName:"Oxygen",category:"sans-serif",ascent:2103,descent:-483,lineGap:0,unitsPerEm:2048,xWidthAvg:923,subsets:{latin:{xWidthAvg:923},thai:{xWidthAvg:1024}}}});var Ft,Mt=a(()=>{Ft={familyName:"Arimo",category:"sans-serif",capHeight:1409,ascent:1854,descent:-434,lineGap:67,unitsPerEm:2048,xHeight:1082,xWidthAvg:913,subsets:{latin:{xWidthAvg:913},thai:{xWidthAvg:1536}}}});var Tt,Pt=a(()=>{Tt={familyName:"Dosis",category:"sans-serif",capHeight:731,ascent:1027,descent:-237,lineGap:0,unitsPerEm:1e3,xHeight:472,xWidthAvg:377,subsets:{latin:{xWidthAvg:377},thai:{xWidthAvg:340}}}});var Lt,wt=a(()=>{Lt={familyName:"Josefin Sans",category:"sans-serif",capHeight:702,ascent:750,descent:-250,lineGap:0,unitsPerEm:1e3,xHeight:378,xWidthAvg:456,subsets:{latin:{xWidthAvg:456},thai:{xWidthAvg:300}}}});var It,Ot=a(()=>{It={familyName:"Cabin",category:"sans-serif",capHeight:1400,ascent:1930,descent:-500,lineGap:0,unitsPerEm:2e3,xHeight:980,xWidthAvg:844,subsets:{latin:{xWidthAvg:844},thai:{xWidthAvg:1206}}}});var Rt,Ct=a(()=>{Rt={familyName:"Anton",category:"sans-serif",capHeight:1760,ascent:2409,descent:-674,lineGap:0,unitsPerEm:2048,xHeight:1500,xWidthAvg:828,subsets:{latin:{xWidthAvg:828},thai:{xWidthAvg:1022}}}});var Gt,$t=a(()=>{Gt={familyName:"Bitter",category:"serif",capHeight:692,ascent:935,descent:-265,lineGap:0,unitsPerEm:1e3,xHeight:522,xWidthAvg:465,subsets:{latin:{xWidthAvg:465},thai:{xWidthAvg:495}}}});var zt,Bt=a(()=>{zt={familyName:"Crimson Text",category:"serif",capHeight:656,ascent:972,descent:-359,lineGap:0,unitsPerEm:1024,xHeight:430,xWidthAvg:405,subsets:{latin:{xWidthAvg:405},thai:{xWidthAvg:374}}}});var _t,kt=a(()=>{_t={familyName:"Hind",category:"sans-serif",capHeight:679,ascent:1055,descent:-546,lineGap:0,unitsPerEm:1e3,xHeight:505,xWidthAvg:429,subsets:{latin:{xWidthAvg:429},thai:{xWidthAvg:751}}}});var Ut,Dt=a(()=>{Ut={familyName:"Inconsolata",category:"monospace",capHeight:623,ascent:859,descent:-190,lineGap:0,unitsPerEm:1e3,xHeight:457,xWidthAvg:500,subsets:{latin:{xWidthAvg:500},thai:{xWidthAvg:500}}}});var jt,Vt=a(()=>{jt={familyName:"Karla",category:"sans-serif",capHeight:1256,ascent:1834,descent:-504,lineGap:0,unitsPerEm:2e3,xHeight:956,xWidthAvg:913,subsets:{latin:{xWidthAvg:913},thai:{xWidthAvg:1031}}}});var Xt,qt=a(()=>{Xt={familyName:"Libre Baskerville",category:"serif",capHeight:770,ascent:970,descent:-270,lineGap:0,unitsPerEm:1e3,xHeight:530,xWidthAvg:517,subsets:{latin:{xWidthAvg:517},thai:{xWidthAvg:756}}}});var Kt,Qt=a(()=>{Kt={familyName:"Libre Franklin",category:"sans-serif",capHeight:742,ascent:966,descent:-246,lineGap:0,unitsPerEm:1e3,xHeight:530,xWidthAvg:465,subsets:{latin:{xWidthAvg:465},thai:{xWidthAvg:702}}}});var Zt,Yt=a(()=>{Zt={familyName:"Lora",category:"serif",capHeight:700,ascent:1006,descent:-274,lineGap:0,unitsPerEm:1e3,xHeight:500,xWidthAvg:468,subsets:{latin:{xWidthAvg:468},thai:{xWidthAvg:529}}}});var Jt,ei=a(()=>{Jt={familyName:"Manrope",category:"sans-serif",capHeight:1440,ascent:2132,descent:-600,lineGap:0,unitsPerEm:2e3,xHeight:1080,xWidthAvg:920,subsets:{latin:{xWidthAvg:920},thai:{xWidthAvg:1480}}}});var ti,ii=a(()=>{ti={familyName:"Maven Pro",category:"sans-serif",capHeight:667,ascent:965,descent:-210,lineGap:0,unitsPerEm:1e3,xHeight:499,xWidthAvg:462,subsets:{latin:{xWidthAvg:462},thai:{xWidthAvg:500}}}});var ni,ri=a(()=>{ni={familyName:"NanumGothic",category:"sans-serif",capHeight:700,ascent:920,descent:-230,lineGap:0,unitsPerEm:1e3,xHeight:500,xWidthAvg:466,subsets:{latin:{xWidthAvg:466},thai:{xWidthAvg:940}}}});var ai,oi=a(()=>{ai={familyName:"Nunito Sans 12pt",category:"sans-serif",capHeight:705,ascent:1011,descent:-353,lineGap:0,unitsPerEm:1e3,xHeight:486,xWidthAvg:452,subsets:{latin:{xWidthAvg:452},thai:{xWidthAvg:500}}}});var si,ci=a(()=>{si={familyName:"Pacifico",category:"handwriting",capHeight:840,ascent:1303,descent:-453,lineGap:0,unitsPerEm:1e3,xHeight:460,xWidthAvg:423,subsets:{latin:{xWidthAvg:423},thai:{xWidthAvg:265}}}});var li,fi=a(()=>{li={familyName:"PT Sans Narrow",category:"sans-serif",capHeight:700,ascent:1018,descent:-276,lineGap:0,unitsPerEm:1e3,xHeight:500,xWidthAvg:347,subsets:{latin:{xWidthAvg:347},thai:{xWidthAvg:750}}}});var mi,di=a(()=>{mi={familyName:"Questrial",category:"sans-serif",capHeight:662,ascent:820,descent:-210,lineGap:0,unitsPerEm:1e3,xHeight:500,xWidthAvg:444,subsets:{latin:{xWidthAvg:444},thai:{xWidthAvg:524}}}});var ui,gi=a(()=>{ui={familyName:"Righteous",category:"display",capHeight:1434,ascent:2017,descent:-526,lineGap:0,unitsPerEm:2048,xHeight:1077,xWidthAvg:966,subsets:{latin:{xWidthAvg:966},thai:{xWidthAvg:573}}}});var hi,pi=a(()=>{hi={familyName:"Roboto Condensed",category:"sans-serif",capHeight:1456,ascent:1900,descent:-500,lineGap:0,unitsPerEm:2048,xHeight:1082,xWidthAvg:811,subsets:{latin:{xWidthAvg:811},thai:{xWidthAvg:803}}}});var xi,yi=a(()=>{xi={familyName:"Roboto Mono",category:"monospace",capHeight:1456,ascent:2146,descent:-555,lineGap:0,unitsPerEm:2048,xHeight:1082,xWidthAvg:1229,subsets:{latin:{xWidthAvg:1229},thai:{xWidthAvg:1229}}}});var Hi,Ai=a(()=>{Hi={familyName:"Roboto Slab",category:"serif",capHeight:1456,ascent:2146,descent:-555,lineGap:0,unitsPerEm:2048,xHeight:1082,xWidthAvg:972,subsets:{latin:{xWidthAvg:972},thai:{xWidthAvg:1038}}}});var vi,Ni=a(()=>{vi={familyName:"Signika",category:"sans-serif",capHeight:1366,ascent:1880,descent:-584,lineGap:0,unitsPerEm:2e3,xHeight:996,xWidthAvg:855,subsets:{latin:{xWidthAvg:855},thai:{xWidthAvg:1281}}}});var Si,bi=a(()=>{Si={familyName:"Teko",category:"sans-serif",capHeight:626,ascent:958,descent:-475,lineGap:0,unitsPerEm:1e3,xHeight:485,xWidthAvg:292,subsets:{latin:{xWidthAvg:292},thai:{xWidthAvg:751}}}});var Wi,Ei=a(()=>{Wi={familyName:"Varela Round",category:"sans-serif",capHeight:698,ascent:918,descent:-286,lineGap:0,unitsPerEm:1e3,xHeight:510,xWidthAvg:478,subsets:{latin:{xWidthAvg:478},thai:{xWidthAvg:514}}}});var Fi,Mi=a(()=>{Fi={familyName:"Vollkorn",category:"serif",capHeight:676,ascent:952,descent:-441,lineGap:0,unitsPerEm:1e3,xHeight:458,xWidthAvg:438,subsets:{latin:{xWidthAvg:438},thai:{xWidthAvg:454}}}});var Ti,Pi=a(()=>{Ti={familyName:"Yantramanav",category:"sans-serif",capHeight:1279,ascent:1923,descent:-733,lineGap:0,unitsPerEm:2048,xHeight:986,xWidthAvg:843,subsets:{latin:{xWidthAvg:843},thai:{xWidthAvg:817}}}});function E(t){if(k[t])return k[t];let e=t.toLowerCase();for(let[i,r]of Object.entries(k))if(i.toLowerCase()===e)return r;return null}var k,U=a(()=>{"use strict";Se();be();Ee();Me();Pe();we();Oe();Ce();$e();ze();_e();Ue();je();Xe();Ke();Ze();Je();tt();nt();at();st();lt();mt();dt();gt();pt();yt();At();Nt();bt();Et();Mt();Pt();wt();Ot();Ct();$t();Bt();kt();Dt();Vt();qt();Qt();Yt();ei();ii();ri();oi();ci();fi();di();gi();pi();yi();Ai();Ni();bi();Ei();Mi();Pi();k={Arial:Ne,Helvetica:z,"Helvetica Neue":z,Roboto:We,Inter:Fe,"Open Sans":Te,Montserrat:Le,Lato:Ie,Poppins:Re,Raleway:Ge,"Source Sans 3":B,"Source Sans Pro":B,Oswald:Be,Merriweather:ke,"Playfair Display":De,Ubuntu:Ve,Rubik:qe,Nunito:Qe,"Noto Sans":Ye,"PT Sans":et,"PT Serif":it,"Work Sans":rt,Quicksand:ot,"Fira Sans":ct,Barlow:ft,Mulish:_,Muli:_,"Titillium Web":ut,Kanit:ht,"DM Sans":xt,Heebo:Ht,"IBM Plex Sans":vt,Mukta:St,Oxygen:Wt,Arimo:Ft,Dosis:Tt,"Josefin Sans":Lt,Cabin:It,Anton:Rt,Bitter:Gt,"Crimson Text":zt,Hind:_t,Inconsolata:Ut,Karla:jt,"Libre Baskerville":Xt,"Libre Franklin":Kt,Lora:Zt,Manrope:Jt,"Maven Pro":ti,"Nanum Gothic":ni,"Nunito Sans":ai,Pacifico:si,"PT Sans Narrow":li,Questrial:mi,Righteous:ui,"Roboto Condensed":hi,"Roboto Mono":xi,"Roboto Slab":Hi,Signika:vi,Teko:Si,"Varela Round":Wi,Vollkorn:Fi,Yantramanav:Ti}});function sn(t){if("leading"in t&&"lineGap"in t)throw new Error("Only a single line height style can be provided. Please pass either `lineGap` OR `leading`.");if("capHeight"in t&&"fontSize"in t)throw new Error("Please pass either `capHeight` OR `fontSize`, not both.");let{fontMetrics:e}=t,i=e.capHeight/e.unitsPerEm,r,n;if("capHeight"in t)r=t.capHeight/i,n=t.capHeight;else if("fontSize"in t)r=t.fontSize,n=t.fontSize*i;else throw new Error("Please pass either `capHeight` OR `fontSize`.");let s;return"lineGap"in t?s=n+t.lineGap:"leading"in t&&(s=t.leading),{fontSize:r,lineHeight:s,fontMetrics:e}}function Li(t){let{fontSize:e,lineHeight:i,fontMetrics:r}=sn(t),n=Math.abs(r.descent),s=r.capHeight/r.unitsPerEm,o=n/r.unitsPerEm,c=r.ascent/r.unitsPerEm,l=r.lineGap/r.unitsPerEm,m=(r.ascent+r.lineGap+n)/r.unitsPerEm*e,d=y=>{if(i){let v=(m-i)/2;return y-v/e}return y},h=d(c-s+l/2)*-1,p=d(o+l/2)*-1;return{fontSize:`${L(e)}px`,lineHeight:i?`${L(i)}px`:"normal",capHeightTrim:`${L(h)}em`,baselineTrim:`${L(p)}em`}}var L,wi=a(()=>{L=t=>parseFloat(t.toFixed(4))});function Ii(t,e,i){try{let r=Li({fontSize:t,leading:e,fontMetrics:i}),n=Math.round(parseFloat(r.capHeightTrim)*t),s=Math.round(parseFloat(r.baselineTrim)*t);return{topTrim:Math.abs(n),bottomTrim:Math.abs(s)}}catch(r){return console.error("Error calculating trim values:",r),{topTrim:0,bottomTrim:0}}}var Oi=a(()=>{"use strict";wi()});function Ri(t){if(t.characters.length===0)return!1;let e=t.getRangeFontName(0,1);if(e===figma.mixed)return!0;for(let i=1;i<t.characters.length;i++){let r=t.getRangeFontName(i,i+1);if(r===figma.mixed||typeof e!="symbol"&&typeof r!="symbol"&&(e.family!==r.family||e.style!==r.style))return!0}return!1}function Ci(t){if(t.characters.length===0)return!1;let e=t.getRangeFontSize(0,1);if(e===figma.mixed)return!0;for(let i=1;i<t.characters.length;i++){let r=t.getRangeFontSize(i,i+1);if(r===figma.mixed||r!==e)return!0}return!1}function Gi(t){if(t.characters.length===0)return!1;let e=t.getRangeLineHeight(0,1);if(e===figma.mixed)return!0;for(let i=1;i<t.characters.length;i++){let r=t.getRangeLineHeight(i,i+1);if(r===figma.mixed||typeof e!="symbol"&&typeof r!="symbol"&&(e.unit!==r.unit||e.unit!=="AUTO"&&r.unit!=="AUTO"&&"value"in e&&"value"in r&&e.value!==r.value))return!0}return!1}var $i=a(()=>{"use strict"});function w(t){let e=t.lineHeight,i=typeof t.fontSize=="number"?t.fontSize:16;if(e===figma.mixed){let r=t.getRangeLineHeight(0,1);if(r!==figma.mixed)return r.unit==="PIXELS"?r.value:r.unit==="PERCENT"?r.value/100*i:i*1.2}else return e.unit==="PIXELS"?e.value:e.unit==="PERCENT"?e.value/100*i:i*1.2;return 16*1.2}var D=a(()=>{"use strict"});var zi,Bi=a(()=>{"use strict";A();U();Oi();$i();D();zi=async function(){let t=figma.currentPage.selection,e={success:!1,trimmedNodes:0,trimmedTexts:[],errors:[]};if(t.length===0){e.errors.push("Please select at least one text layer"),figma.notify("Please select at least one text layer",{error:!0}),u("TRIM_COMPLETE",e);return}function i(n){let s=[];for(let o of n)o.type==="TEXT"?s.push(o):"children"in o&&s.push(...i(o.children));return s}let r=i(t);if(r.length===0){e.errors.push("No text layers found in selection"),figma.notify("No text layers found in selection",{error:!0}),u("TRIM_COMPLETE",e);return}for(let n of r)try{if(Ri(n)){e.errors.push(`${n.name}: Text has mixed fonts, cannot trim`);continue}if(Ci(n)){e.errors.push(`${n.name}: Text has mixed font sizes, cannot trim`);continue}if(Gi(n)){e.errors.push(`${n.name}: Text has mixed line heights, cannot trim`);continue}let s=n.fontName;if(s===figma.mixed){e.errors.push(`${n.name}: Cannot determine font`);continue}let o=n.fontSize;if(o===figma.mixed){e.errors.push(`${n.name}: Cannot determine font size`);continue}let c=w(n);console.log(`[Trim Debug] ${n.name}:`,{fontSize:o,lineHeightPx:c,fontFamily:s.family,lineHeightRaw:n.lineHeight});let l=E(s.family);if(!l){e.errors.push(`${n.name}: Font "${s.family}" is not currently supported. Try Arial, Roboto, Inter, or other common fonts.`);continue}let{topTrim:f,bottomTrim:g}=Ii(o,c,l);if(console.log("[Trim Debug] Calculated trims:",{topTrim:f,bottomTrim:g,ratio:c/o}),f===0&&g===0){e.errors.push(`${n.name}: Could not calculate trim values`);continue}try{await figma.loadFontAsync({family:s.family,style:s.style})}catch(y){e.errors.push(`${n.name}: Failed to load font "${s.family} ${s.style}"`);continue}n.textAutoResize==="NONE"&&(n.textAutoResize="HEIGHT");let m=figma.createFrame();m.name=`${n.name} (Trimmed)`,m.layoutMode="VERTICAL",m.primaryAxisSizingMode="AUTO",m.counterAxisSizingMode="AUTO",m.paddingTop=0,m.paddingBottom=0,m.paddingLeft=0,m.paddingRight=0,m.fills=[],m.clipsContent=!1,m.x=n.x-f,m.y=n.y-f;let d=n.parent,h=0;d&&"children"in d&&(h=d.children.indexOf(n)),d&&"appendChild"in d&&m.appendChild(n),n.x=0,n.y=-f;let p=c-f-g;m.resize(n.width,p),d&&"insertChild"in d&&d.insertChild(h,m),e.trimmedTexts.push({nodeId:n.id,nodeName:n.name,font:{family:s.family,style:s.style},fontSize:o,lineHeight:c,topTrim:f,bottomTrim:g}),e.trimmedNodes++}catch(s){e.errors.push(`${n.name}: ${s}`)}e.success=e.trimmedNodes>0,e.success?figma.notify(`Successfully trimmed ${e.trimmedNodes} text layer${e.trimmedNodes!==1?"s":""}`):figma.notify("Failed to trim text layers",{error:!0}),u("TRIM_COMPLETE",e)}});function j(t,e,i,r){let n,s=!1;t>32?(n=1.15,s=!0):t>=20?(n=1.25,s=!0):t>=14?n=1.5:n=1.35;let o=e||"";(o.includes("Condensed")||o.includes("Compressed")||o.includes("Narrow")||o.includes("Oswald")||o.includes("Bebas"))&&(n-=.1),s||(r==="Serif"||o.includes("Merriweather")||o.includes("Lora")||o.includes("Playfair"))&&(n+=.1),(o.includes("Display")||r==="Handwriting")&&(n-=.05);let c=t*n,l;if(i){let{ascent:g,descent:m,unitsPerEm:d}=i,h=(Math.abs(g)+Math.abs(m))/d,p=t*h,y=t*.1,v=p+y;if(s){let H=Math.max(c,v),S=H%1;S>0&&S<=.2?l=Math.floor(H):l=Math.ceil(H)}else{let H=Math.max(c,v);l=Math.ceil(H/4)*4}}else s?l=Math.ceil(c):l=Math.ceil(c/4)*4;let f=Math.max(t+4,t*1.05);return l<f&&(l=Math.ceil(f)),l}function V(t,e="",i){return j(t,e,i)}function _i(t,e,i="",r){let n=V(t,i,r),s=Math.abs(n-e);return Math.round(s)}var X=a(()=>{"use strict"});function q(t,e,i="",r){let n=j(t,i,r),s=e/t,o=e-n;return Math.abs(o)<=.5?{hasIssue:!1,issueType:"OPTIMAL",ratio:s,recommended:n}:o<0?{hasIssue:!0,issueType:"TOO_TIGHT",ratio:s,recommended:n}:{hasIssue:!0,issueType:"TOO_LOOSE",ratio:s,recommended:n}}var ki=a(()=>{"use strict";X()});async function K(t){return null}var Ui=a(()=>{"use strict"});var Di,ji=a(()=>{"use strict";A();D();ki();X();U();Ui();Di=async function(){let t=figma.currentPage.selection,e={totalScanned:0,issuesFound:0,textLayers:[]};if(t.length===0){figma.notify("Please select at least one text layer",{error:!0}),u("LINE_HEIGHT_SCAN_COMPLETE",e);return}function i(o){let c=[];for(let l of o)l.type==="TEXT"?c.push(l):"children"in l&&c.push(...i(l.children));return c}let r=i(t);if(r.length===0){figma.notify("No text layers found in selection",{error:!0}),u("LINE_HEIGHT_SCAN_COMPLETE",e);return}let n=new Set;for(let o of r)o.fontName!==figma.mixed&&n.add(o.fontName.family);let s=[];for(let o of n)E(o)||s.push(o);if(s.length>0){figma.notify(`Fetching metrics for ${s.length} font(s)...`);for(let o of s)await K(o)}for(let o of r)try{let c=o.fontName;if(c===figma.mixed){console.log(`[LH Scan] Skipping ${o.name}: mixed fonts`);continue}let l=o.fontSize;if(l===figma.mixed){console.log(`[LH Scan] Skipping ${o.name}: mixed font sizes`);continue}let f=E(c.family);if(f||(f=await K(c.family)),o.lineHeight===figma.mixed){console.log(`[LH Scan] WARNING: ${o.name} has mixed line heights!`);let y=o.characters,v=1.5,H=l*1.5,S=!1,Y="OPTIMAL";for(let N=0;N<y.length;N++){let F=o.getRangeLineHeight(N,N+1);if(F!==figma.mixed&&F.unit==="PIXELS"){let I=q(l,F.value,c.family,f);I.hasIssue&&(S||(S=!0,H=F.value,v=I.ratio,Y=I.issueType))}}if(S){let N=V(l,c.family,f);e.textLayers.push({nodeId:o.id,nodeName:`${o.name} (mixed)`,fontFamily:c.family,fontStyle:c.style,fontSize:l,lineHeight:H,lineHeightRatio:v,hasIssue:!0,issueType:Y,recommendedLineHeight:N,overlapAmount:Math.abs(N-H)}),e.totalScanned++,e.issuesFound++}continue}let m=w(o),d=q(l,m,c.family,f),h=d.recommended,p=_i(l,m,c.family,f);e.textLayers.push({nodeId:o.id,nodeName:o.name,fontFamily:c.family,fontStyle:c.style,fontSize:l,lineHeight:m,lineHeightRatio:d.ratio,hasIssue:d.hasIssue,issueType:d.issueType,recommendedLineHeight:d.hasIssue?h:void 0,overlapAmount:d.hasIssue?p:void 0}),e.totalScanned++,d.hasIssue&&e.issuesFound++}catch(c){console.error(`[LH Scan] Error scanning ${o.name}:`,c)}e.issuesFound>0?figma.notify(`Found ${e.issuesFound} line height issue${e.issuesFound===1?"":"s"}`):figma.notify("All line heights are optimal!"),u("LINE_HEIGHT_SCAN_COMPLETE",e)}});var Vi,Xi=a(()=>{"use strict";A();Vi=async function(t){try{let e=figma.getNodeById(t.nodeId);if(!e||e.type!=="TEXT"){figma.notify("Text layer not found",{error:!0});return}let i=e.fontName;if(i===figma.mixed){figma.notify("Cannot fix text with mixed fonts",{error:!0});return}await figma.loadFontAsync({family:i.family,style:i.style}),e.lineHeight={value:t.newLineHeight,unit:"PIXELS"},figma.notify(`\u2713 Updated "${e.name}" line height to ${t.newLineHeight}px`),u("SCAN_LINE_HEIGHTS")}catch(e){figma.notify(`Failed to fix line height: ${e}`,{error:!0})}}});var Q={};Ji(Q,{default:()=>cn});function cn(){x("SCAN_FONTS",fe),x("APPLY_REPLACEMENT",de),x("BULK_UPDATE",ge),x("PREVIEW_SELECTION",ye),x("REQUEST_AVAILABLE_FONTS",pe),x("TRIM_TEXT",zi),x("SCAN_LINE_HEIGHTS",Di),x("FIX_LINE_HEIGHT",Vi),x("SELECT_NODE",Ae),C("close",function(){figma.closePlugin()}),G({width:380,height:480})}var Z=a(()=>{"use strict";A();me();ue();he();xe();He();ve();Bi();ji();Xi()});var ln={"src/main.ts--default":(Z(),ie(Q)).default,open:(Z(),ie(Q)).default},fn=typeof figma.command=="undefined"||figma.command===""||figma.command==="generate"?"src/main.ts--default":figma.command;ln[fn]();
