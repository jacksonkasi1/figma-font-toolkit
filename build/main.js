var b=Object.defineProperty,$e=Object.defineProperties,ze=Object.getOwnPropertyDescriptor,Me=Object.getOwnPropertyDescriptors,Ce=Object.getOwnPropertyNames,D=Object.getOwnPropertySymbols;var X=Object.prototype.hasOwnProperty,Oe=Object.prototype.propertyIsEnumerable;var V=(e,t,n)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,z=(e,t)=>{for(var n in t||(t={}))X.call(t,n)&&V(e,n,t[n]);if(D)for(var n of D(t))Oe.call(t,n)&&V(e,n,t[n]);return e},M=(e,t)=>$e(e,Me(t));var d=(e,t)=>()=>(e&&(t=e(e=0)),t);var q=(e,t)=>{for(var n in t)b(e,n,{get:t[n],enumerable:!0})},Pe=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Ce(t))!X.call(e,r)&&r!==n&&b(e,r,{get:()=>t[r],enumerable:!(o=ze(t,r))||o.enumerable});return e};var K=e=>Pe(b({},"__esModule",{value:!0}),e);function F(e,t){let n=`${Z}`;return Z+=1,A[n]={handler:t,name:e},function(){delete A[n]}}function C(e,t){let n=!1;return F(e,function(...o){n!==!0&&(n=!0,t(...o))})}function J(e,t){let n=!1;for(let o in A)A[o].name===e&&(A[o].handler.apply(null,t),n=!0);if(n===!1)throw new Error(`No event handler with name \`${e}\``)}var A,Z,h,Q=d(()=>{A={},Z=0;h=typeof window=="undefined"?function(e,...t){figma.ui.postMessage([e,...t])}:function(e,...t){window.parent.postMessage({pluginMessage:[e,...t]},"*")};typeof window=="undefined"?figma.ui.onmessage=function(e){if(!Array.isArray(e))return;let[t,...n]=e;typeof t=="string"&&J(t,n)}:window.onmessage=function(e){if(typeof e.data.pluginMessage=="undefined")return;let t=e.data.pluginMessage;if(!Array.isArray(t))return;let[n,...o]=e.data.pluginMessage;typeof n=="string"&&J(n,o)}});function O(e,t){if(typeof __html__=="undefined")throw new Error("No UI defined");let n=`<div id="create-figma-plugin"></div><script>document.body.classList.add('theme-${figma.editorType}');const __FIGMA_COMMAND__='${typeof figma.command=="undefined"?"":figma.command}';const __SHOW_UI_DATA__=${JSON.stringify(typeof t=="undefined"?{}:t)};${__html__}</script>`;figma.showUI(n,M(z({},e),{themeColors:typeof e.themeColors=="undefined"?!0:e.themeColors}))}var Y=d(()=>{});var ee=d(()=>{Q();Y()});function Ie(e,t){return e.family===t.family&&e.style===t.style}function te(e){return`${e.family}||${e.style}`}function ne(e){let t={Thin:"100","Extra Light":"200",Light:"300",Regular:"400",Medium:"500","Semi Bold":"600",Bold:"700","Extra Bold":"800",Black:"900"},n=e.match(/\d{3}/);if(n)return n[0];for(let[o,r]of Object.entries(t))if(e.includes(o))return r;return e}function oe(e,t,n){let o;t!==void 0&&n!==void 0?o=e.getRangeLineHeight(t,n):o=e.lineHeight,o===figma.mixed&&(o=e.getRangeLineHeight(0,1));let r=o;if(r.unit==="PIXELS"&&"value"in r)return r.value;if(r.unit==="PERCENT"&&"value"in r){let a=t!==void 0&&n!==void 0?e.getRangeFontSize(t,n):e.fontSize;return(a===figma.mixed?16:a)*r.value/100}else{let a=t!==void 0&&n!==void 0?e.getRangeFontSize(t,n):e.fontSize;return(a===figma.mixed?16:a)*1.2}}function E(e){let t=[];function n(r){let a=r.characters.length;if(a!==0)try{let c=r.fontName;if(c!==figma.mixed){let s=c,f=r.fontSize;t.push({nodeId:r.id,nodeName:r.name,rangeStart:0,rangeEnd:a,font:{family:s.family,style:s.style},fontSize:f,lineHeightPx:oe(r),fontWeight:ne(s.style)})}else{let s=0;for(;s<a;){let f=r.getRangeFontName(s,s+1),m=r.getRangeFontSize(s,s+1),p=s+1;for(;p<a;){let S=r.getRangeFontName(p,p+1),y=r.getRangeFontSize(p,p+1);if(!Ie(f,S)||m!==y)break;p++}t.push({nodeId:r.id,nodeName:r.name,rangeStart:s,rangeEnd:p,font:{family:f.family,style:f.style},fontSize:m,lineHeightPx:oe(r,s,p),fontWeight:ne(f.style)}),s=p}}}catch(c){console.warn(`Failed to process text node ${r.id}:`,c)}}function o(r){if(r.type==="TEXT")n(r);else if("children"in r)for(let a of r.children)o(a)}for(let r of e)o(r);return t}function P(e){let t=new Map;for(let n of e){let o=te(n.font),r=t.get(o);if(!r){let a=new Set,c=[];for(let s of e)te(s.font)===o&&(c.push(s),a.add(s.nodeId));r={font:n.font,count:c.length,nodesCount:a.size,occurrences:c},t.set(o,r)}}return Array.from(t.values()).sort((n,o)=>o.count-n.count)}function Be(e){let t=new Map;for(let n of e){let o=Math.round(n.lineHeightPx).toString(),r=t.get(o)||[];r.push(n),t.set(o,r)}return Array.from(t.entries()).map(([n,o])=>({key:`lineHeight:${n}`,label:`Line Height: ${n}px`,occurrences:o,count:o.length}))}function We(e){let t=new Map;for(let n of e){let o=Math.round(n.fontSize).toString(),r=t.get(o)||[];r.push(n),t.set(o,r)}return Array.from(t.entries()).map(([n,o])=>({key:`fontSize:${n}`,label:`Font Size: ${n}px`,occurrences:o,count:o.length}))}function _e(e){let t=new Map;for(let n of e){let o=n.fontWeight,r=t.get(o)||[];r.push(n),t.set(o,r)}return Array.from(t.entries()).map(([n,o])=>({key:`fontWeight:${n}`,label:`Weight: ${n}`,occurrences:o,count:o.length}))}function Ge(e){let t=new Map;for(let n of e){let o=n.font.family,r=t.get(o)||[];r.push(n),t.set(o,r)}return Array.from(t.entries()).map(([n,o])=>({key:`fontFamily:${n}`,label:`Family: ${n}`,occurrences:o,count:o.length}))}function I(e){return{lineHeight:Be(e),fontSize:We(e),fontWeight:_e(e),fontFamily:Ge(e)}}var re=d(()=>{"use strict"});function Ue(e){if("leading"in e&&"lineGap"in e)throw new Error("Only a single line height style can be provided. Please pass either `lineGap` OR `leading`.");if("capHeight"in e&&"fontSize"in e)throw new Error("Please pass either `capHeight` OR `fontSize`, not both.");let{fontMetrics:t}=e,n=t.capHeight/t.unitsPerEm,o,r;if("capHeight"in e)o=e.capHeight/n,r=e.capHeight;else if("fontSize"in e)o=e.fontSize,r=e.fontSize*n;else throw new Error("Please pass either `capHeight` OR `fontSize`.");let a;return"lineGap"in e?a=r+e.lineGap:"leading"in e&&(a=e.leading),{fontSize:o,lineHeight:a,fontMetrics:t}}function ie(e){let{fontSize:t,lineHeight:n,fontMetrics:o}=Ue(e),r=Math.abs(o.descent),a=o.capHeight/o.unitsPerEm,c=r/o.unitsPerEm,s=o.ascent/o.unitsPerEm,f=o.lineGap/o.unitsPerEm,S=(o.ascent+o.lineGap+r)/o.unitsPerEm*t,y=u=>{if(n){let x=(S-n)/2;return u-x/t}return u},i=y(s-a+f/2)*-1,l=y(c+f/2)*-1;return{fontSize:`${w(t)}px`,lineHeight:n?`${w(n)}px`:"normal",capHeightTrim:`${w(i)}em`,baselineTrim:`${w(l)}em`}}var w,ae=d(()=>{w=e=>parseFloat(e.toFixed(4))});var se,ce=d(()=>{se={familyName:"Arial",category:"sans-serif",capHeight:1467,ascent:1854,descent:-434,lineGap:67,unitsPerEm:2048,xHeight:1062,xWidthAvg:913,subsets:{latin:{xWidthAvg:913},thai:{xWidthAvg:1536}}}});var B,le=d(()=>{B={familyName:"Helvetica",category:"sans-serif",capHeight:1469,ascent:1577,descent:-471,lineGap:0,unitsPerEm:2048,xHeight:1071,xWidthAvg:913,subsets:{latin:{xWidthAvg:913},thai:{xWidthAvg:1298}}}});var fe,ue=d(()=>{fe={familyName:"Roboto",category:"sans-serif",capHeight:1456,ascent:1900,descent:-500,lineGap:0,unitsPerEm:2048,xHeight:1082,xWidthAvg:911,subsets:{latin:{xWidthAvg:911},thai:{xWidthAvg:908}}}});var me,de=d(()=>{me={familyName:"Inter",category:"sans-serif",capHeight:2048,ascent:2728,descent:-680,lineGap:0,unitsPerEm:2816,xHeight:1536,xWidthAvg:1344,subsets:{latin:{xWidthAvg:1344},thai:{xWidthAvg:2800}}}});var ge,pe=d(()=>{ge={familyName:"Open Sans",category:"sans-serif",capHeight:1462,ascent:2189,descent:-600,lineGap:0,unitsPerEm:2048,xHeight:1096,xWidthAvg:960,subsets:{latin:{xWidthAvg:960},thai:{xWidthAvg:1229}}}});var he,ye=d(()=>{he={familyName:"Montserrat",category:"sans-serif",capHeight:700,ascent:968,descent:-251,lineGap:0,unitsPerEm:1e3,xHeight:517,xWidthAvg:503,subsets:{latin:{xWidthAvg:503},thai:{xWidthAvg:587}}}});var xe,Se=d(()=>{xe={familyName:"Lato",category:"sans-serif",capHeight:1433,ascent:1974,descent:-426,lineGap:0,unitsPerEm:2e3,xHeight:1013,xWidthAvg:871,subsets:{latin:{xWidthAvg:871},thai:{xWidthAvg:1063}}}});var Fe,He=d(()=>{Fe={familyName:"Poppins",category:"sans-serif",capHeight:698,ascent:1050,descent:-350,lineGap:100,unitsPerEm:1e3,xHeight:548,xWidthAvg:500,subsets:{latin:{xWidthAvg:500},thai:{xWidthAvg:500}}}});var Te,Ne=d(()=>{Te={familyName:"Raleway",category:"sans-serif",capHeight:710,ascent:940,descent:-234,lineGap:0,unitsPerEm:1e3,xHeight:519,xWidthAvg:463,subsets:{latin:{xWidthAvg:463},thai:{xWidthAvg:608}}}});var Ae,ve=d(()=>{Ae={familyName:"Source Sans 3",category:"sans-serif",capHeight:660,ascent:1024,descent:-400,lineGap:0,unitsPerEm:1e3,xHeight:486,xWidthAvg:418,subsets:{latin:{xWidthAvg:418},thai:{xWidthAvg:653}}}});var we={};q(we,{calculateLineOverlap:()=>Ze,calculateTrimValues:()=>ke,calculateUniversalLineHeight:()=>be,getFontMetrics:()=>je,getLineHeightInPixels:()=>qe,getRecommendedLineHeight:()=>Ee,hasMixedFontSizes:()=>Ve,hasMixedFonts:()=>De,hasMixedLineHeights:()=>Xe,isLineHeightTooTight:()=>Ke});function je(e){if(W[e])return W[e];let t=e.toLowerCase();for(let[n,o]of Object.entries(W))if(n.toLowerCase()===t)return o;return null}function ke(e,t,n){try{let o=ie({fontSize:e,leading:t,fontMetrics:n});console.log("[Capsize Debug] Raw values:",{fontSize:e,lineHeightPx:t,capHeightTrim:o.capHeightTrim,baselineTrim:o.baselineTrim,fontMetrics:{familyName:n.familyName,capHeight:n.capHeight,ascent:n.ascent,descent:n.descent,unitsPerEm:n.unitsPerEm}});let r=Math.round(parseFloat(o.capHeightTrim)*e),a=Math.round(parseFloat(o.baselineTrim)*e);return console.log("[Capsize Debug] Calculated:",{topTrimRaw:parseFloat(o.capHeightTrim)*e,bottomTrimRaw:parseFloat(o.baselineTrim)*e,topTrimRounded:r,bottomTrimRounded:a}),{topTrim:Math.abs(r),bottomTrim:Math.abs(a)}}catch(o){return console.error("Error calculating trim values:",o),{topTrim:0,bottomTrim:0}}}function De(e){if(e.characters.length===0)return!1;let t=e.getRangeFontName(0,1);if(t===figma.mixed)return!0;for(let n=1;n<e.characters.length;n++){let o=e.getRangeFontName(n,n+1);if(o===figma.mixed||typeof t!="symbol"&&typeof o!="symbol"&&(t.family!==o.family||t.style!==o.style))return!0}return!1}function Ve(e){if(e.characters.length===0)return!1;let t=e.getRangeFontSize(0,1);if(t===figma.mixed)return!0;for(let n=1;n<e.characters.length;n++){let o=e.getRangeFontSize(n,n+1);if(o===figma.mixed||o!==t)return!0}return!1}function Xe(e){if(e.characters.length===0)return!1;let t=e.getRangeLineHeight(0,1);if(t===figma.mixed)return!0;for(let n=1;n<e.characters.length;n++){let o=e.getRangeLineHeight(n,n+1);if(o===figma.mixed||typeof t!="symbol"&&typeof o!="symbol"&&(t.unit!==o.unit||t.unit!=="AUTO"&&o.unit!=="AUTO"&&"value"in t&&"value"in o&&t.value!==o.value))return!0}return!1}function qe(e){let t=e.lineHeight;if(t===figma.mixed){let n=e.getRangeLineHeight(0,1);if(n!==figma.mixed){if(n.unit==="PIXELS")return n.value;if(n.unit==="PERCENT"){let o=typeof e.fontSize=="number"?e.fontSize:16;return n.value/100*o}else return(typeof e.fontSize=="number"?e.fontSize:16)*1.2}}else{if(t.unit==="PIXELS")return t.value;if(t.unit==="PERCENT"){let n=typeof e.fontSize=="number"?e.fontSize:16;return t.value/100*n}else return(typeof e.fontSize=="number"?e.fontSize:16)*1.2}return 16*1.2}function be(e,t){let n=1.5;t&&(t<=300?n=1.45:t<=400?n=1.5:t<=600?n=1.55:n=1.6);let o=8,r=e*n;return Math.max(r,e+o)}function Ke(e,t){return t/e<1.5}function Ee(e){return Math.round(be(e))}function Ze(e,t){let o=Ee(e)-t;return Math.max(0,o)}var W,Le=d(()=>{"use strict";ae();ce();le();ue();de();pe();ye();Se();He();Ne();ve();W={Arial:se,Helvetica:B,"Helvetica Neue":B,Roboto:fe,Inter:me,"Open Sans":ge,Montserrat:he,Lato:xe,Poppins:Fe,Raleway:Te,"Source Sans 3":Ae}});var _={};q(_,{default:()=>Je});function Je(){F("SCAN_FONTS",async function(){let e=figma.currentPage.selection;if(e.length===0){figma.notify("Please select at least one layer",{error:!0}),h("FONTS_SCANNED",{fonts:[],groups:{lineHeight:[],fontSize:[],fontWeight:[],fontFamily:[]},totalNodes:0});return}let t=E(e);if(t.length===0){figma.notify("No text layers found in selection"),h("FONTS_SCANNED",{fonts:[],groups:{lineHeight:[],fontSize:[],fontWeight:[],fontFamily:[]},totalNodes:0});return}let n=P(t),o=I(t),r=new Set(t.map(a=>a.nodeId));h("FONTS_SCANNED",{fonts:n,groups:o,totalNodes:r.size}),figma.notify(`Found ${n.length} fonts in ${r.size} text layers`)}),F("APPLY_REPLACEMENT",async function(e){let t={success:!1,affectedNodes:0,affectedRanges:0,errors:[]};try{await figma.loadFontAsync({family:e.newFont.family,style:e.newFont.style});let n=new Set;for(let o of e.occurrences)try{let r=figma.getNodeById(o.nodeId);if(!r||r.type!=="TEXT")continue;try{await figma.loadFontAsync({family:o.font.family,style:o.font.style})}catch(a){}if(r.setRangeFontName(o.rangeStart,o.rangeEnd,{family:e.newFont.family,style:e.newFont.style}),e.newLineHeight)try{r.setRangeLineHeight(o.rangeStart,o.rangeEnd,{value:e.newLineHeight,unit:"PIXELS"})}catch(a){r.lineHeight={value:e.newLineHeight,unit:"PIXELS"}}if(e.newFontSize)try{r.setRangeFontSize(o.rangeStart,o.rangeEnd,e.newFontSize)}catch(a){r.fontSize=e.newFontSize}t.affectedRanges++,n.add(r.id)}catch(r){t.errors.push(`Error updating node ${o.nodeId}: ${r}`)}t.affectedNodes=n.size,t.success=t.affectedRanges>0,t.success?figma.notify(`Updated ${t.affectedRanges} text ranges in ${t.affectedNodes} layers`):figma.notify("Failed to apply changes",{error:!0})}catch(n){t.errors.push(`Font loading failed: ${n}`),figma.notify("Failed to load font",{error:!0})}h("REPLACEMENT_COMPLETE",t)}),F("BULK_UPDATE",async function(e){let t=0,n=0,o=new Set,r=[];try{let a=async(c,s)=>{let m=(await figma.listAvailableFontsAsync()).filter(i=>i.fontName.family===c);if(m.length===0)return null;let S={100:["Thin","Hairline","100","100 Thin"],200:["Extra Light","ExtraLight","Ultra Light","UltraLight","200","200 Extra Light"],300:["Light","Lt","300","300 Light"],400:["Regular","Normal","Book","Rg","400","400 Regular"],500:["Medium","Md","500","500 Medium"],600:["Semi Bold","SemiBold","Demi Bold","DemiBold","600","600 Semi Bold"],700:["Bold","Bd","700","700 Bold"],800:["Extra Bold","ExtraBold","Ultra Bold","UltraBold","800","800 Extra Bold"],900:["Black","Heavy","Bk","900","900 Black"]}[s]||[];for(let i of S){let l=m.find(u=>u.fontName.style.toLowerCase()===i.toLowerCase());if(l)return l.fontName.style}for(let i of S){let l=m.find(u=>u.fontName.style.toLowerCase().includes(i.toLowerCase()));if(l)return l.fontName.style}let y=m.find(i=>i.fontName.style.toLowerCase()==="regular"||i.fontName.style.toLowerCase()==="normal"||i.fontName.style.toLowerCase()==="400");return y?y.fontName.style:m[0].fontName.style};for(let c of e.occurrences)try{let s=figma.getNodeById(c.nodeId);if(!s||s.type!=="TEXT")continue;try{await figma.loadFontAsync({family:c.font.family,style:c.font.style})}catch(f){r.push(`Failed to load font ${c.font.family} ${c.font.style}`);continue}if(e.groupType==="fontWeight"){let f=e.targetValue,m=await a(c.font.family,f);if(!m){r.push(`Could not find matching weight ${f} for ${c.font.family}`);continue}await figma.loadFontAsync({family:c.font.family,style:m}),s.setRangeFontName(c.rangeStart,c.rangeEnd,{family:c.font.family,style:m}),t++}else if(e.groupType==="lineHeight"){let f=e.targetValue;try{s.setRangeLineHeight(c.rangeStart,c.rangeEnd,{value:f,unit:"PIXELS"})}catch(m){s.lineHeight={value:f,unit:"PIXELS"}}t++}else if(e.groupType==="fontSize"){let f=e.targetValue;try{s.setRangeFontSize(c.rangeStart,c.rangeEnd,f)}catch(m){s.fontSize=f}t++}o.add(s.id)}catch(s){r.push(`Error updating node ${c.nodeId}: ${s}`)}n=o.size,t>0?(figma.notify(`Updated ${t} range${t===1?"":"s"} in ${n} layer${n===1?"":"s"}`),h("FONTS_SCANNED",{fonts:P(E(figma.currentPage.selection)),groups:I(E(figma.currentPage.selection)),totalNodes:o.size})):(figma.notify("No changes applied",{error:!0}),r.length>0&&console.error("Bulk update errors:",r))}catch(a){figma.notify(`Bulk update failed: ${a}`,{error:!0}),console.error("Bulk update error:",a)}}),F("PREVIEW_SELECTION",function(e){let t=new Set(e.map(o=>o.nodeId)),n=[];for(let o of Array.from(t)){let r=figma.getNodeById(o);r&&n.push(r)}n.length>0&&(figma.currentPage.selection=n,figma.viewport.scrollAndZoomIntoView(n))}),F("REQUEST_AVAILABLE_FONTS",async function(){let e=await figma.listAvailableFontsAsync();h("AVAILABLE_FONTS",e)}),F("TRIM_TEXT",async function(){let e=figma.currentPage.selection,t={success:!1,trimmedNodes:0,trimmedTexts:[],errors:[],warnings:[]};if(e.length===0){t.errors.push("Please select at least one text layer"),figma.notify("Please select at least one text layer",{error:!0}),h("TRIM_COMPLETE",t);return}let{getFontMetrics:n,calculateTrimValues:o,hasMixedFonts:r,hasMixedFontSizes:a,hasMixedLineHeights:c,getLineHeightInPixels:s,isLineHeightTooTight:f,getRecommendedLineHeight:m,calculateLineOverlap:p}=await Promise.resolve().then(()=>(Le(),we));function S(i){let l=[];for(let u of i)u.type==="TEXT"?l.push(u):"children"in u&&l.push(...S(u.children));return l}let y=S(e);if(y.length===0){t.errors.push("No text layers found in selection"),figma.notify("No text layers found in selection",{error:!0}),h("TRIM_COMPLETE",t);return}for(let i of y)try{if(r(i)){t.errors.push(`${i.name}: Text has mixed fonts, cannot trim`);continue}if(a(i)){t.errors.push(`${i.name}: Text has mixed font sizes, cannot trim`);continue}if(c(i)){t.errors.push(`${i.name}: Text has mixed line heights, cannot trim`);continue}let l=i.fontName;if(l===figma.mixed){t.errors.push(`${i.name}: Cannot determine font`);continue}let u=i.fontSize;if(u===figma.mixed){t.errors.push(`${i.name}: Cannot determine font size`);continue}let x=s(i);console.log(`[Trim Debug] ${i.name}:`,{fontSize:u,lineHeightPx:x,fontFamily:l.family,lineHeightRaw:i.lineHeight});let U=n(l.family);if(!U){t.errors.push(`${i.name}: Font "${l.family}" is not currently supported. Try Arial, Roboto, Inter, or other common fonts.`);continue}let{topTrim:T,bottomTrim:v}=o(u,x,U),L=x/u,N=f(u,x),R=m(u),j=p(u,x);if(console.log("[Trim Debug] Calculated trims:",{topTrim:T,bottomTrim:v,ratio:L,isTooTight:N,recommendedLineHeight:R,overlapAmount:j}),N){let $=`${i.name}: Line height ${x.toFixed(0)}px is too tight for ${u}px font (ratio: ${L.toFixed(2)}). Recommended: ${R}px to prevent selection highlight overlap.`;t.warnings.push($),console.warn(`[Line Height Warning] ${$}`)}if(T===0&&v===0){t.errors.push(`${i.name}: Could not calculate trim values`);continue}try{await figma.loadFontAsync({family:l.family,style:l.style})}catch($){t.errors.push(`${i.name}: Failed to load font "${l.family} ${l.style}"`);continue}i.textAutoResize==="NONE"&&(i.textAutoResize="HEIGHT");let g=figma.createFrame();g.name=`${i.name} (Trimmed)`,g.layoutMode="VERTICAL",g.primaryAxisSizingMode="AUTO",g.counterAxisSizingMode="AUTO",g.paddingTop=0,g.paddingBottom=0,g.paddingLeft=0,g.paddingRight=0,g.fills=[],g.clipsContent=!1,g.x=i.x-T,g.y=i.y-T;let H=i.parent,k=0;H&&"children"in H&&(k=H.children.indexOf(i)),H&&"appendChild"in H&&g.appendChild(i),i.x=0,i.y=-T;let Re=x-T-v;g.resize(i.width,Re),H&&"insertChild"in H&&H.insertChild(k,g),t.trimmedTexts.push({nodeId:i.id,nodeName:i.name,font:{family:l.family,style:l.style},fontSize:u,lineHeight:x,topTrim:T,bottomTrim:v,hasLineHeightWarning:N,recommendedLineHeight:N?R:void 0,lineHeightRatio:L,overlapAmount:N?j:void 0}),t.trimmedNodes++}catch(l){t.errors.push(`${i.name}: ${l}`)}t.success=t.trimmedNodes>0,t.success?figma.notify(`Successfully trimmed ${t.trimmedNodes} text layer${t.trimmedNodes!==1?"s":""}`):figma.notify("Failed to trim text layers",{error:!0}),h("TRIM_COMPLETE",t)}),C("close",function(){figma.closePlugin()}),O({width:380,height:480})}var G=d(()=>{"use strict";ee();re()});var Qe={"src/main.ts--default":(G(),K(_)).default,open:(G(),K(_)).default},Ye=typeof figma.command=="undefined"||figma.command===""||figma.command==="generate"?"src/main.ts--default":figma.command;Qe[Ye]();
